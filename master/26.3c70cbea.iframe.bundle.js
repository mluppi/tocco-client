(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{5117:function(module,exports){module.exports=pathToRegexp,module.exports.parse=parse,module.exports.compile=function compile(str,options){return tokensToFunction(parse(str,options))},module.exports.tokensToFunction=tokensToFunction,module.exports.tokensToRegExp=tokensToRegExp;var PATH_REGEXP=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g");function parse(str,options){for(var res,tokens=[],key=0,index=0,path="",defaultDelimiter=options&&options.delimiter||"/",whitelist=options&&options.whitelist||void 0,pathEscaped=!1;null!==(res=PATH_REGEXP.exec(str));){var m=res[0],escaped=res[1],offset=res.index;if(path+=str.slice(index,offset),index=offset+m.length,escaped)path+=escaped[1],pathEscaped=!0;else{var prev="",name=res[2],capture=res[3],group=res[4],modifier=res[5];if(!pathEscaped&&path.length){var k=path.length-1,c=path[k];(!whitelist||whitelist.indexOf(c)>-1)&&(prev=c,path=path.slice(0,k))}path&&(tokens.push(path),path="",pathEscaped=!1);var repeat="+"===modifier||"*"===modifier,optional="?"===modifier||"*"===modifier,pattern=capture||group,delimiter=prev||defaultDelimiter;tokens.push({name:name||key++,prefix:prev,delimiter:delimiter,optional:optional,repeat:repeat,pattern:pattern?escapeGroup(pattern):"[^"+escapeString(delimiter===defaultDelimiter?delimiter:delimiter+defaultDelimiter)+"]+?"})}}return(path||index<str.length)&&tokens.push(path+str.substr(index)),tokens}function tokensToFunction(tokens){for(var matches=new Array(tokens.length),i=0;i<tokens.length;i++)"object"==typeof tokens[i]&&(matches[i]=new RegExp("^(?:"+tokens[i].pattern+")$"));return function(data,options){for(var path="",encode=options&&options.encode||encodeURIComponent,i=0;i<tokens.length;i++){var token=tokens[i];if("string"!=typeof token){var segment,value=data?data[token.name]:void 0;if(Array.isArray(value)){if(!token.repeat)throw new TypeError('Expected "'+token.name+'" to not repeat, but got array');if(0===value.length){if(token.optional)continue;throw new TypeError('Expected "'+token.name+'" to not be empty')}for(var j=0;j<value.length;j++){if(segment=encode(value[j],token),!matches[i].test(segment))throw new TypeError('Expected all "'+token.name+'" to match "'+token.pattern+'"');path+=(0===j?token.prefix:token.delimiter)+segment}}else if("string"!=typeof value&&"number"!=typeof value&&"boolean"!=typeof value){if(!token.optional)throw new TypeError('Expected "'+token.name+'" to be '+(token.repeat?"an array":"a string"))}else{if(segment=encode(String(value),token),!matches[i].test(segment))throw new TypeError('Expected "'+token.name+'" to match "'+token.pattern+'", but got "'+segment+'"');path+=token.prefix+segment}}else path+=token}return path}}function escapeString(str){return str.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function escapeGroup(group){return group.replace(/([=!:$/()])/g,"\\$1")}function flags(options){return options&&options.sensitive?"":"i"}function tokensToRegExp(tokens,keys,options){for(var strict=(options=options||{}).strict,start=!1!==options.start,end=!1!==options.end,delimiter=options.delimiter||"/",endsWith=[].concat(options.endsWith||[]).map(escapeString).concat("$").join("|"),route=start?"^":"",i=0;i<tokens.length;i++){var token=tokens[i];if("string"==typeof token)route+=escapeString(token);else{var capture=token.repeat?"(?:"+token.pattern+")(?:"+escapeString(token.delimiter)+"(?:"+token.pattern+"))*":token.pattern;keys&&keys.push(token),token.optional?token.prefix?route+="(?:"+escapeString(token.prefix)+"("+capture+"))?":route+="("+capture+")?":route+=escapeString(token.prefix)+"("+capture+")"}}if(end)strict||(route+="(?:"+escapeString(delimiter)+")?"),route+="$"===endsWith?"$":"(?="+endsWith+")";else{var endToken=tokens[tokens.length-1],isEndDelimited="string"==typeof endToken?endToken[endToken.length-1]===delimiter:void 0===endToken;strict||(route+="(?:"+escapeString(delimiter)+"(?="+endsWith+"))?"),isEndDelimited||(route+="(?="+escapeString(delimiter)+"|"+endsWith+")")}return new RegExp(route,flags(options))}function pathToRegexp(path,keys,options){return path instanceof RegExp?function regexpToRegexp(path,keys){if(!keys)return path;var groups=path.source.match(/\((?!\?)/g);if(groups)for(var i=0;i<groups.length;i++)keys.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return path}(path,keys):Array.isArray(path)?function arrayToRegexp(path,keys,options){for(var parts=[],i=0;i<path.length;i++)parts.push(pathToRegexp(path[i],keys,options).source);return new RegExp("(?:"+parts.join("|")+")",flags(options))}(path,keys,options):function stringToRegexp(path,keys,options){return tokensToRegExp(parse(path,options),keys,options)}(path,keys,options)}},5155:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var redux=__webpack_require__(81),regenerator=__webpack_require__(3),regenerator_default=__webpack_require__.n(regenerator),rest=(__webpack_require__(78),__webpack_require__(239),__webpack_require__(75),__webpack_require__(12),__webpack_require__(83),__webpack_require__(28),__webpack_require__(282),__webpack_require__(55),__webpack_require__(32),__webpack_require__(20)),viewPersistor=__webpack_require__(4956),pickBy=__webpack_require__(493),pickBy_default=__webpack_require__.n(pickBy),omit=__webpack_require__(273),omit_default=__webpack_require__.n(omit),pick=__webpack_require__(85),pick_default=__webpack_require__.n(pick),redux_saga_effects_npm_proxy_esm=__webpack_require__(2),actions_setCurrentViewInfo=function setCurrentViewInfo(location,currentViewInfo){return{type:"path/SET_CURRENT_VIEW_INFO",payload:{location:location,currentViewInfo:currentViewInfo}}},setBreadcrumbsInfo=function setBreadcrumbsInfo(breadcrumbsInfo){return{type:"path/SET_BREADCRUMBS_INFO",payload:{breadcrumbsInfo:breadcrumbsInfo}}},setRelations=function setRelations(relations){return{type:"path/SET_RELATIONS",payload:{relations:relations}}},setRelationsInfo=function setRelationsInfo(relationsInfo){return{type:"path/SET_RELATIONS_INFO",payload:{relationsInfo:relationsInfo}}},defineProperty=__webpack_require__(8),defineProperty_default=__webpack_require__.n(defineProperty),path_to_regexp=(__webpack_require__(77),__webpack_require__(5117)),path_to_regexp_default=__webpack_require__.n(path_to_regexp),url_getPathInfo=function getPathInfo(pathname){var pathParts=[],res=path_to_regexp_default()("/e/:entity/:key?/:relation*/:view(list|detail|edit|create|relations|action)/:actionId?",pathParts).exec(pathname);if(null!==res)return pathParts.reduce((function(acc,pathPart,idx){return Object.assign({},acc,defineProperty_default()({},pathPart.name,res[idx+1]))}),{});var parseResult=path_to_regexp_default()("/e/action/:actionId",pathParts).exec(pathname);return null!==parseResult?{actionId:parseResult[1]}:null},_marked=regenerator_default.a.mark(mainSagas),_marked2=regenerator_default.a.mark(loadRoute),_marked3=regenerator_default.a.mark(loadRouteInfo),_marked4=regenerator_default.a.mark(initMultiRelations),_marked5=regenerator_default.a.mark(loadRelationInfos),isEven=function isEven(n){return n%2==0};function mainSagas(){return regenerator_default.a.wrap((function mainSagas$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,Object(redux_saga_effects_npm_proxy_esm.a)([Object(redux_saga_effects_npm_proxy_esm.j)("path/LOAD_CURRENT_ROUTE",loadRoute)]);case 2:case"end":return _context.stop()}}),_marked)}function loadRoute(_ref){var location,pathname,routeInfo,currentViewInfo,breadcrumbs;return regenerator_default.a.wrap((function loadRoute$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return location=_ref.payload.location,pathname=location.pathname,routeInfo=[],_context2.prev=3,_context2.next=6,Object(redux_saga_effects_npm_proxy_esm.b)(loadRouteInfo,pathname);case 6:routeInfo=_context2.sent,_context2.next=13;break;case 9:return _context2.prev=9,_context2.t0=_context2.catch(3),_context2.next=13,Object(redux_saga_effects_npm_proxy_esm.e)(actions_setCurrentViewInfo(pathname,{error:_context2.t0}));case 13:if(!(routeInfo.length>0)){_context2.next=29;break}return _context2.next=16,Object(redux_saga_effects_npm_proxy_esm.b)(sagas_deriveCurrentViewInfo,pathname,routeInfo);case 16:return currentViewInfo=_context2.sent,_context2.next=19,Object(redux_saga_effects_npm_proxy_esm.e)(actions_setCurrentViewInfo(pathname,currentViewInfo));case 19:return _context2.next=21,Object(redux_saga_effects_npm_proxy_esm.b)(deriveBreadcrumbs,routeInfo);case 21:return breadcrumbs=_context2.sent,_context2.next=24,Object(redux_saga_effects_npm_proxy_esm.e)(setBreadcrumbsInfo(breadcrumbs));case 24:if("detail"!==currentViewInfo.type){_context2.next=27;break}return _context2.next=27,Object(redux_saga_effects_npm_proxy_esm.g)(initMultiRelations,currentViewInfo.model,currentViewInfo.key);case 27:return _context2.next=29,Object(redux_saga_effects_npm_proxy_esm.b)(viewPersistor.a.clearPersistedViews,currentViewInfo.level+1);case 29:case"end":return _context2.stop()}}),_marked2,null,[[3,9]])}function loadRouteInfo(pathname){var path,routeInfos,baseModel,display,splittedRelation,i,relationStringPart,parent,relationName,targetEntity,relationModel,key,model,entity,_parent;return regenerator_default.a.wrap((function loadRouteInfo$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,Object(redux_saga_effects_npm_proxy_esm.b)(url_getPathInfo,pathname);case 2:if(path=_context3.sent,routeInfos=[],null!==path){_context3.next=6;break}return _context3.abrupt("return",routeInfos);case 6:if(!path.entity){_context3.next=49;break}return _context3.next=9,Object(redux_saga_effects_npm_proxy_esm.b)(rest.a.fetchModel,path.entity);case 9:if(baseModel=_context3.sent,routeInfos.push({type:"list",model:baseModel}),!path.key){_context3.next=46;break}return _context3.next=14,Object(redux_saga_effects_npm_proxy_esm.b)(rest.a.fetchDisplay,baseModel.name,path.key);case 14:if(display=_context3.sent,routeInfos.push({type:"detail",key:path.key,model:baseModel,display:display}),!path.relation){_context3.next=46;break}splittedRelation=path.relation.split("/"),i=0;case 19:if(!(i<splittedRelation.length)){_context3.next=46;break}if(relationStringPart=splittedRelation[i],parent=routeInfos[routeInfos.length-1],!isEven(i)){_context3.next=31;break}return relationName=relationStringPart,targetEntity=parent.model.paths[relationName].targetEntity,_context3.next=27,Object(redux_saga_effects_npm_proxy_esm.b)(rest.a.fetchModel,targetEntity);case 27:relationModel=_context3.sent,routeInfos.push({type:"list",model:relationModel,relationName:relationName,parent:parent}),_context3.next=43;break;case 31:return key=relationStringPart,model=parent.model,_context3.t0=routeInfos,_context3.t1=model,_context3.t2=key,_context3.next=38,Object(redux_saga_effects_npm_proxy_esm.b)(rest.a.fetchDisplay,model.name,key);case 38:_context3.t3=_context3.sent,_context3.t4=parent.relationName,_context3.t5=parent.parent,_context3.t6={type:"detail",model:_context3.t1,key:_context3.t2,display:_context3.t3,relationName:_context3.t4,parent:_context3.t5},_context3.t0.push.call(_context3.t0,_context3.t6);case 43:i++,_context3.next=19;break;case 46:"create"===path.view?(entity=routeInfos[routeInfos.length-1],_parent=routeInfos[routeInfos.length-2],routeInfos.push({type:"create",model:entity.model,parent:_parent,relationName:entity.relationName})):path.actionId&&routeInfos.push({type:"action",actionId:path.actionId}),_context3.next=50;break;case 49:path.actionId&&routeInfos.push({type:"action",actionId:path.actionId});case 50:return _context3.abrupt("return",routeInfos);case 51:case"end":return _context3.stop()}}),_marked3)}var sagas_deriveCurrentViewInfo=function deriveCurrentViewInfo(pathname,routeInfo){var lastEntry=routeInfo[routeInfo.length-1],parent=lastEntry.parent;return Object.assign({},omit_default()(lastEntry,["parent"]),{pathname:pathname,level:routeInfo.length-1},parent&&lastEntry.relationName&&{parentKey:parent.key,reverseRelation:parent.model.paths[lastEntry.relationName].reverseRelationName,parentModel:parent.model})},deriveBreadcrumbs=function deriveBreadcrumbs(routeInfos){var path="";return routeInfos.map((function(routeInfo){return"action"===routeInfo.type?null:(path=(path?path+"/":"")+(routeInfo.key?routeInfo.key:routeInfo.relationName||routeInfo.model.name),{type:routeInfo.type,display:routeInfo.display||routeInfo.model.label,path:path+"/"+routeInfo.type})})).filter((function(e){return e}))};function initMultiRelations(model,key){var relations,relationsTransformed;return regenerator_default.a.wrap((function initMultiRelations$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return relations=pickBy_default()(model.paths,(function(value,key){return value.relationDisplay&&value.relationDisplay.show})),relationsTransformed=Object.keys(relations).map((function(k){return pick_default()(relations[k],["relationName","reverseRelationName","targetEntity","relationDisplay.label","relationDisplay.order"])})).sort((function(a,b){return a.relationDisplay.order>b.relationDisplay.order?1:-1})),_context4.next=4,Object(redux_saga_effects_npm_proxy_esm.e)(setRelations(relationsTransformed));case 4:return _context4.next=6,Object(redux_saga_effects_npm_proxy_esm.b)(loadRelationInfos,model.name,key);case 6:case"end":return _context4.stop()}}),_marked4)}function loadRelationInfos(model,key){var resource,relationInfoResponse,relationsInfo;return regenerator_default.a.wrap((function loadRelationInfos$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return resource="/client/entities/".concat(model,"/").concat(key,"/relations"),_context5.next=3,Object(redux_saga_effects_npm_proxy_esm.b)(rest.a.requestSaga,resource);case 3:return relationInfoResponse=_context5.sent,relationsInfo=relationInfoResponse.body.relations,_context5.next=7,Object(redux_saga_effects_npm_proxy_esm.e)(setRelationsInfo(relationsInfo));case 7:case"end":return _context5.stop()}}),_marked5)}var _ACTION_HANDLERS,reducer=__webpack_require__(18),ACTION_HANDLERS=(_ACTION_HANDLERS={},defineProperty_default()(_ACTION_HANDLERS,"path/SET_CURRENT_VIEW_INFO",(function setCurrentViewInfo(state,_ref){var _ref$payload=_ref.payload,location=_ref$payload.location,currentViewInfo=_ref$payload.currentViewInfo;return Object.assign({},state,{currentViewInfos:Object.assign({},state.currentViewInfos,defineProperty_default()({},location,currentViewInfo))})})),defineProperty_default()(_ACTION_HANDLERS,"path/SET_BREADCRUMBS_INFO",reducer.a.singleTransferReducer("breadcrumbsInfo")),defineProperty_default()(_ACTION_HANDLERS,"path/SET_RELATIONS",reducer.a.singleTransferReducer("relations")),defineProperty_default()(_ACTION_HANDLERS,"path/SET_RELATIONS_INFO",reducer.a.singleTransferReducer("relationsInfo")),defineProperty_default()(_ACTION_HANDLERS,"path/SET_CURRENT_VIEW_TITLE",reducer.a.singleTransferReducer("currentViewTitle")),_ACTION_HANDLERS),initialState={currentViewInfos:{},breadcrumbsInfo:[],relations:null,relationsInfo:{}};function reducer_reducer(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:initialState,action=arguments.length>1?arguments[1]:void 0,handler=ACTION_HANDLERS[action.type];return handler?handler(state,action):state}reducer_reducer.__docgenInfo={description:"",methods:[],displayName:"reducer"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/routes/entities/modules/path/reducer.js"]={name:"reducer",docgenInfo:reducer_reducer.__docgenInfo,path:"packages/admin/src/routes/entities/modules/path/reducer.js"});var modules_path=reducer_reducer,es=__webpack_require__(23),index_es=__webpack_require__(11),taggedTemplateLiteral=__webpack_require__(17),taggedTemplateLiteral_default=__webpack_require__.n(taggedTemplateLiteral),react=(__webpack_require__(461),__webpack_require__(0)),react_default=__webpack_require__.n(react),react_router=__webpack_require__(688),prop_types=__webpack_require__(2249),prop_types_default=__webpack_require__.n(prop_types),styled_components_browser_esm=__webpack_require__(5),Typography=__webpack_require__(16),StyledLink=__webpack_require__(5163),jsx_runtime=__webpack_require__(1),EntitiesOverview_ref=Object(jsx_runtime.jsxs)("div",{children:[Object(jsx_runtime.jsx)(Typography.a.H2,{children:"Entities Overview"}),Object(jsx_runtime.jsx)(Typography.a.Span,{children:"List of all available Entities"}),Object(jsx_runtime.jsxs)("ul",{children:[Object(jsx_runtime.jsx)("li",{children:Object(jsx_runtime.jsx)(StyledLink.a,{to:"/e/User",children:"User"})}),Object(jsx_runtime.jsx)("li",{children:Object(jsx_runtime.jsx)(StyledLink.a,{to:"/e/Address",children:"Address"})})]})]}),EntitiesOverview=function EntitiesOverview(props){return EntitiesOverview_ref};EntitiesOverview.displayName="EntitiesOverview",EntitiesOverview.__docgenInfo={description:"",methods:[],displayName:"EntitiesOverview"};var EntitiesOverview_EntitiesOverview=EntitiesOverview;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/routes/entities/components/EntitiesOverview/EntitiesOverview.js"]={name:"EntitiesOverview",docgenInfo:EntitiesOverview.__docgenInfo,path:"packages/admin/src/routes/entities/components/EntitiesOverview/EntitiesOverview.js"});var components_EntitiesOverview=EntitiesOverview_EntitiesOverview,actionEmitter=(__webpack_require__(221),__webpack_require__(118)),slicedToArray=__webpack_require__(41),slicedToArray_default=__webpack_require__.n(slicedToArray),LazyIcon=(__webpack_require__(939),__webpack_require__(263),__webpack_require__(686)),js=__webpack_require__(157),query_string=__webpack_require__(4955),query_string_default=__webpack_require__.n(query_string),get=__webpack_require__(22),get_default=__webpack_require__.n(get),resolveThemePath=__webpack_require__(34),modularScale=__webpack_require__(31),StyledScrollbar=__webpack_require__(2139),StyledMisc=__webpack_require__(50);function _templateObject7(){var data=taggedTemplateLiteral_default()(["\n  && {\n    max-width: 110px;\n  }\n"]);return _templateObject7=function _templateObject7(){return data},data}function _templateObject6(){var data=taggedTemplateLiteral_default()(["\n  border-radius: ",";\n  padding: "," ",";\n  display: flex;\n  background-color: ",";\n  height: fit-content;\n\n  &&& {\n    * {\n      color: ",";\n      box-sizing: initial;\n    }\n  }\n  ",";\n\n  // allow hover styles only on non-touch devices\n  @media (hover: hover) and (pointer: fine) {\n    &:hover "," {\n      display: flex;\n    }\n\n    && {\n      :hover{\n        background-color: ",";\n\n        * {\n          color: ",";\n        }\n        cursor: pointer;\n      }\n    }\n\n    ",":hover * {\n      color: ",";\n    }\n  }\n"]);return _templateObject6=function _templateObject6(){return data},data}function _templateObject5(){var data=taggedTemplateLiteral_default()(["\n  display: none;\n  margin-left: auto;\n\n  * {\n    color: ",";\n    padding-left: ",";\n  }\n"]);return _templateObject5=function _templateObject5(){return data},data}function _templateObject4(){var data=taggedTemplateLiteral_default()(["\n  padding-left: ",";\n\n  &:nth-child(2) {\n    padding-left: 0;\n  }\n"]);return _templateObject4=function _templateObject4(){return data},data}function _templateObject3(){var data=taggedTemplateLiteral_default()(["\n  background-color: ",";\n  padding: ",";\n  display: grid;\n  grid-template-columns: repeat(auto-fit, 170px);\n  grid-gap: ",";\n  justify-content: space-between;\n  overflow-y: auto;\n  align-content: flex-start;\n  height: fit-content;\n  min-height: 150px;\n  max-height: 20%;\n  ","\n"]);return _templateObject3=function _templateObject3(){return data},data}function _templateObject2(){var data=taggedTemplateLiteral_default()(["\n  background-color: ",";\n  padding: ",";\n  margin-top: 3px;\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n"]);return _templateObject2=function _templateObject2(){return data},data}function _templateObject(){var data=taggedTemplateLiteral_default()(["\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n"]);return _templateObject=function _templateObject(){return data},data}var StyledRelationsViewWrapper=styled_components_browser_esm.default.div(_templateObject()),StyledPreviewBox=styled_components_browser_esm.default.div(_templateObject2(),resolveThemePath.a.color("paper"),modularScale.a.space(-1)),StyledRelationBox=styled_components_browser_esm.default.div(_templateObject3(),resolveThemePath.a.color("paper"),modularScale.a.space(-1),modularScale.a.space(-2),StyledScrollbar.a),StyledPreviewLink=Object(styled_components_browser_esm.default)(StyledLink.a)(_templateObject4(),modularScale.a.space(-.5)),RelationLinks=styled_components_browser_esm.default.div(_templateObject5(),resolveThemePath.a.color("text"),modularScale.a.space(-4.5)),RelationBox=styled_components_browser_esm.default.div(_templateObject6(),resolveThemePath.a.radii("large"),modularScale.a.space(-2.7),modularScale.a.space(-1),(function(_ref){return _ref.selected&&resolveThemePath.a.color("secondary")}),(function(_ref2){return _ref2.selected&&resolveThemePath.a.color("paper")}),(function(_ref3){return _ref3.selected&&"\n    ".concat(RelationLinks," {\n      display: flex;\n    }\n    ")}),RelationLinks,resolveThemePath.a.color("secondaryLight"),resolveThemePath.a.color("paper"),StyledLink.a,resolveThemePath.a.color("secondary")),RelationLabel=Object(styled_components_browser_esm.default)(StyledMisc.p)(_templateObject7()),modelPropType=prop_types_default.a.shape({label:prop_types_default.a.string.isRequired,name:prop_types_default.a.string.isRequired,paths:prop_types_default.a.objectOf(prop_types_default.a.shape({type:prop_types_default.a.string.isRequired,fieldName:prop_types_default.a.string,relationName:prop_types_default.a.string}))}),selectedRelations=(prop_types_default.a.shape({pathname:prop_types_default.a.string.isRequired,level:prop_types_default.a.number,key:prop_types_default.a.string,model:modelPropType,parentModel:modelPropType,reverseRelation:prop_types_default.a.string,actionId:prop_types_default.a.string}),{}),main=__webpack_require__(1348),navigationStrategy=__webpack_require__(4964),routing=__webpack_require__(4965),ListView_ListView=function ListView(_ref){var selectedRelation=_ref.selectedRelation,currentViewInfo=_ref.currentViewInfo,match=_ref.match,history=_ref.history,emitAction=_ref.emitAction;return Object(jsx_runtime.jsx)(main.a,{id:"preview"+selectedRelation.reverseRelationName+selectedRelation.targetEntity,entityName:selectedRelation.targetEntity,formName:selectedRelation.targetEntity,parent:{key:currentViewInfo.key,reverseRelationName:selectedRelation.reverseRelationName,model:currentViewInfo.model.name,relationName:selectedRelation.relationName},showLink:!0,navigationStrategy:Object(navigationStrategy.b)(history,match),onRowClick:function onRowClick(_ref2){var id=_ref2.id,entityBaseUrl=match.url.replace(/detail$/,"");history.push("".concat(entityBaseUrl).concat(selectedRelation.relationName,"/").concat(id))},onNavigateToCreate:function onNavigateToCreate(){var entityBaseUrl=Object(routing.a)(match.url);history.push(entityBaseUrl+"/"+selectedRelation.relationName+"/create")},searchFormType:"simple",selectionStyle:"none",store:viewPersistor.a.viewInfoSelector(history.location.pathname)["store-".concat(selectedRelation.relationName)],onStoreCreate:function onStoreCreate(store){viewPersistor.a.persistViewInfo(currentViewInfo.pathname,defineProperty_default()({},"store-".concat(selectedRelation.relationName),store),currentViewInfo.level)},showActions:!1,limit:15,emitAction:emitAction},selectedRelation.reverseRelationName+selectedRelation.targetEntity)};ListView_ListView.displayName="ListView",ListView_ListView.__docgenInfo={description:"",methods:[],displayName:"ListView",props:{selectedRelation:{type:{name:"shape",value:{reverseRelationName:{name:"string",required:!1},targetEntity:{name:"string",required:!1},relationName:{name:"string",required:!1}}},required:!0,description:""},currentViewInfo:{type:{name:"custom",raw:"currentViewPropType"},required:!1,description:""},match:{type:{name:"object"},required:!0,description:""},history:{type:{name:"object"},required:!0,description:""},emitAction:{type:{name:"func"},required:!0,description:""}}};var RelationsView_ListView=ListView_ListView;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/routes/entities/components/RelationsView/ListView.js"]={name:"ListView",docgenInfo:ListView_ListView.__docgenInfo,path:"packages/admin/src/routes/entities/components/RelationsView/ListView.js"});var asyncToGenerator=__webpack_require__(163),asyncToGenerator_default=__webpack_require__.n(asyncToGenerator),src_main=(__webpack_require__(82),__webpack_require__(33),__webpack_require__(4981)),DocsView_DocsView=function DocsView(_ref){var entityName=_ref.entityName,entityKey=_ref.entityKey,showActions=_ref.showActions,noLeftPadding=_ref.noLeftPadding,openResource=_ref.openResource,_useState=Object(react.useState)(null),_useState2=slicedToArray_default()(_useState,2),folderKey=_useState2[0],setFolderKey=_useState2[1],fetchFolder=function(){var _ref2=asyncToGenerator_default()(regenerator_default.a.mark((function _callee(){return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:rest.a.simpleRequest("/entities/2.0/"+entityName+"/"+entityKey+"/entitydocs/folder").then((function(res){setFolderKey(res.body.key)}));case 1:case"end":return _context.stop()}}),_callee)})));return function fetchFolder(){return _ref2.apply(this,arguments)}}();return Object(react.useEffect)((function(){fetchFolder()}),[]),folderKey&&Object(jsx_runtime.jsx)(src_main.a,Object.assign({noLeftPadding:noLeftPadding,sortable:!1,searchFormType:"none",rootNodes:[{key:folderKey,entityName:"Folder"}],embedded:!0,showActions:showActions},!1===showActions?{selectionStyle:"none"}:{},{disableViewPersistor:!0},openResource?{openResource:openResource}:{}))};DocsView_DocsView.__docgenInfo={description:"",methods:[],displayName:"DocsView",props:{entityName:{type:{name:"string"},required:!0,description:""},entityKey:{type:{name:"string"},required:!0,description:""},showActions:{type:{name:"bool"},required:!0,description:""},noLeftPadding:{type:{name:"bool"},required:!1,description:""},openResource:{type:{name:"func"},required:!1,description:""}}};var components_DocsView_DocsView=DocsView_DocsView;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/routes/entities/components/DocsView/DocsView.js"]={name:"DocsView",docgenInfo:DocsView_DocsView.__docgenInfo,path:"packages/admin/src/routes/entities/components/DocsView/DocsView.js"});var components_DocsView=components_DocsView_DocsView,DocsViewAdapter_DocsViewAdapter=function DocsViewAdapter(_ref){var currentViewInfo=_ref.currentViewInfo,history=_ref.history,selectedRelation=_ref.selectedRelation;return Object(jsx_runtime.jsx)(components_DocsView,{entityName:currentViewInfo.model.name,entityKey:currentViewInfo.key,showActions:!1,noLeftPadding:!0,history:history,openResource:function openResource(location){history.push("".concat(selectedRelation.relationName,"/list#").concat(location))}})};DocsViewAdapter_DocsViewAdapter.displayName="DocsViewAdapter",DocsViewAdapter_DocsViewAdapter.__docgenInfo={description:"",methods:[],displayName:"DocsViewAdapter",props:{history:{type:{name:"object"},required:!0,description:""},selectedRelation:{type:{name:"shape",value:{relationName:{name:"string",required:!0}}},required:!0,description:""},currentViewInfo:{type:{name:"custom",raw:"currentViewPropType"},required:!1,description:""}}};var RelationsView_DocsViewAdapter=DocsViewAdapter_DocsViewAdapter;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/routes/entities/components/RelationsView/DocsViewAdapter.js"]={name:"DocsViewAdapter",docgenInfo:DocsViewAdapter_DocsViewAdapter.__docgenInfo,path:"packages/admin/src/routes/entities/components/RelationsView/DocsViewAdapter.js"});var RelationsView_ref2=Object(jsx_runtime.jsx)(react_default.a.Fragment,{}),_ref3=Object(jsx_runtime.jsx)(LazyIcon.a,{icon:"arrow-right"}),_ref4=Object(jsx_runtime.jsx)(LazyIcon.a,{icon:"plus"}),_ref5=Object(jsx_runtime.jsx)(LazyIcon.a,{icon:"arrow-right"}),_ref6=Object(jsx_runtime.jsx)(LazyIcon.a,{icon:"plus"}),RelationsView_RelationsView=function RelationsView(_ref){var history=_ref.history,match=_ref.match,currentViewInfo=_ref.currentViewInfo,relations=_ref.relations,relationsInfo=_ref.relationsInfo,emitAction=_ref.emitAction,intl=_ref.intl,_useState=Object(react.useState)(null),_useState2=slicedToArray_default()(_useState,2),selectedRelation=_useState2[0],selectRelation=_useState2[1],entityName=get_default()(currentViewInfo,"model.name");Object(react.useEffect)((function(){if(relations&&relations.length>0){var queryRelation=query_string_default.a.parse(history.location.search).relation;if(queryRelation)selectRelation(relations.find((function(r){return r.relationName===queryRelation})));else{var persistedSelectedRelation=function getRelation(entity){return selectedRelations[entity]}(entityName);selectRelation(persistedSelectedRelation?relations.find((function(r){return r.relationName===persistedSelectedRelation})):relations[0])}}}),[relations]);var msg=function msg(id){return intl.formatMessage({id:id})},getRelationCountLabel=function getRelationCountLabel(relationName){return relationsInfo[relationName]&&relationsInfo[relationName].count>0?Object(jsx_runtime.jsxs)(RelationLabel,{children:[" (",relationsInfo[relationName].count,")"]}):null};if(!relations||0===relations.length||!currentViewInfo)return null;var hasCreateRights=function hasCreateRights(relationName){return relationsInfo[relationName]&&relationsInfo[relationName].createPermission},RelationPreview=selectedRelation?"Resource"===selectedRelation.targetEntity?RelationsView_DocsViewAdapter:RelationsView_ListView:function(){return RelationsView_ref2};return Object(jsx_runtime.jsxs)(StyledRelationsViewWrapper,{children:[Object(jsx_runtime.jsx)(StyledRelationBox,{children:relations.map((function(relation){return Object(jsx_runtime.jsxs)(RelationBox,{selected:selectedRelation&&relation.relationName===selectedRelation.relationName,onClick:function onClick(){selectRelation(relation),history.replace({search:"?relation="+relation.relationName}),function setRelation(entity,selectedRelation){selectedRelations[entity]=selectedRelation}(entityName,relation.relationName)},children:[Object(jsx_runtime.jsx)(RelationLabel,{title:relation.relationDisplay.label,children:relation.relationDisplay.label}),getRelationCountLabel(relation.relationName),Object(jsx_runtime.jsxs)(RelationLinks,{children:[Object(jsx_runtime.jsx)(StyledLink.a,{"aria-label":msg("client.admin.entities.relationsView.relationLinkView"),to:match.url.replace(/(relations|detail)$/,relation.relationName),children:_ref3}),hasCreateRights(relation.relationName)&&"Resource"!==relation.targetEntity&&Object(jsx_runtime.jsx)(StyledLink.a,{"aria-label":msg("client.admin.entities.relationsView.relationLinkCreate"),to:match.url.replace(/(relations|detail)$/,relation.relationName)+"/create",children:_ref4})]})]},"relation-".concat(relation.relationName))}))}),selectedRelation&&Object(jsx_runtime.jsxs)(StyledPreviewBox,{children:[Object(jsx_runtime.jsxs)(Typography.a.H4,{children:[selectedRelation.relationDisplay.label,Object(jsx_runtime.jsx)(StyledPreviewLink,{"aria-label":msg("client.admin.entities.relationsView.relationLinkView"),to:match.url.replace(/(relations|detail)$/,selectedRelation.relationName),children:_ref5}),hasCreateRights(selectedRelation.relationName)&&"Resource"!==selectedRelation.targetEntity&&Object(jsx_runtime.jsx)(StyledPreviewLink,{"aria-label":msg("client.admin.entities.relationsView.relationLinkCreate"),to:match.url.replace(/(relations|detail)$/,selectedRelation.relationName)+"/create",children:_ref6})]}),Object(jsx_runtime.jsx)(RelationPreview,{selectedRelation:selectedRelation,match:match,history:history,currentViewInfo:currentViewInfo,emitAction:emitAction})]})]})};RelationsView_RelationsView.displayName="RelationsView";var RelationsView_areEqual=function areEqual(prevProps,nextProps){return 0===Object.keys(js.a.difference(prevProps,nextProps)).length};RelationsView_RelationsView.__docgenInfo={description:"",methods:[],displayName:"RelationsView",props:{history:{type:{name:"object"},required:!0,description:""},match:{type:{name:"object"},required:!0,description:""},currentViewInfo:{type:{name:"custom",raw:"currentViewPropType"},required:!1,description:""},relations:{type:{name:"array"},required:!1,description:""},relationsInfo:{type:{name:"objectOf",value:{name:"shape",value:{count:{name:"number",required:!1},createPermission:{name:"bool",required:!1}}}},required:!1,description:""},emitAction:{type:{name:"func"},required:!0,description:""},intl:{type:{name:"custom",raw:"intlShape.isRequired"},required:!1,description:""}}};var components_RelationsView_RelationsView=react_default.a.memo(RelationsView_RelationsView,RelationsView_areEqual);"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/routes/entities/components/RelationsView/RelationsView.js"]={name:"RelationsView",docgenInfo:RelationsView_RelationsView.__docgenInfo,path:"packages/admin/src/routes/entities/components/RelationsView/RelationsView.js"});var mapActionCreators={emitAction:function emitAction(action){return actionEmitter.a.dispatchEmittedAction(action)}},components_RelationsView=Object(es.connect)((function mapStateToProps(state,props){return{currentViewInfo:state.entities.path.currentViewInfos[props.history.location.pathname],relations:state.entities.path.relations,relationsInfo:state.entities.path.relationsInfo}}),mapActionCreators)(Object(index_es.injectIntl)(components_RelationsView_RelationsView)),entity_detail_src_main=__webpack_require__(4957),LoadMask=(__webpack_require__(91),__webpack_require__(63),__webpack_require__(66),__webpack_require__(2248)),consoleLogger=__webpack_require__(79),actions={"user-qr-action":Object(react.lazy)((function(){return Promise.all([__webpack_require__.e(2),__webpack_require__.e(8)]).then(__webpack_require__.bind(null,5159))})),"input-edit":Object(react.lazy)((function(){return Promise.all([__webpack_require__.e(2),__webpack_require__.e(8)]).then(__webpack_require__.bind(null,5148))})),resourcescheduler:Object(react.lazy)((function(){return Promise.all([__webpack_require__.e(2),__webpack_require__.e(8)]).then(__webpack_require__.bind(null,5149))})),"show-output-jobs-action":Object(react.lazy)((function(){return Promise.all([__webpack_require__.e(2),__webpack_require__.e(8)]).then(__webpack_require__.bind(null,5150))})),delete:Object(react.lazy)((function(){return Promise.all([__webpack_require__.e(2),__webpack_require__.e(8)]).then(__webpack_require__.bind(null,5151))})),merge:Object(react.lazy)((function(){return Promise.all([__webpack_require__.e(2),__webpack_require__.e(8)]).then(__webpack_require__.bind(null,5157))})),copy:Object(react.lazy)((function(){return Promise.all([__webpack_require__.e(2),__webpack_require__.e(8)]).then(__webpack_require__.bind(null,5160))})),documents:Object(react.lazy)((function(){return Promise.all([__webpack_require__.e(2),__webpack_require__.e(8)]).then(__webpack_require__.bind(null,5152))}))},LazyAction_ref=Object(jsx_runtime.jsx)(LoadMask.a,{}),renderLoader=function renderLoader(){return LazyAction_ref};renderLoader.displayName="renderLoader";var LazyAction_LazyAction=function LazyAction(props){var appId=props.appId,LazyAction=actions[appId];if(!LazyAction)return consoleLogger.a.logError("no action found with id: ".concat(appId)),null;var ActionComponent=Object(es.connect)(null,{emitAction:function emitAction(action){return actionEmitter.a.dispatchEmittedAction(action)}})(LazyAction);return Object(jsx_runtime.jsx)(react.Suspense,{fallback:renderLoader(),children:Object(jsx_runtime.jsx)(ActionComponent,Object.assign({},props))})};LazyAction_LazyAction.displayName="LazyAction",LazyAction_LazyAction.__docgenInfo={description:"",methods:[],displayName:"LazyAction",props:{appId:{type:{name:"string"},required:!0,description:""}}};var Action_LazyAction=LazyAction_LazyAction;function EditView_templateObject(){var data=taggedTemplateLiteral_default()(["\n  margin: 0;\n  background-color: ",";\n  padding: 0 0 0 ",";\n  overflow: hidden;\n  height: 100%;\n"]);return EditView_templateObject=function _templateObject(){return data},data}"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/routes/entities/components/Action/LazyAction.js"]={name:"LazyAction",docgenInfo:LazyAction_LazyAction.__docgenInfo,path:"packages/admin/src/routes/entities/components/Action/LazyAction.js"});var StyledEntityDetailAppWrapper=styled_components_browser_esm.default.div(EditView_templateObject(),resolveThemePath.a.color("paper"),modularScale.a.space(0)),EditView_EditView=function EditView(props){var currentViewInfo=props.currentViewInfo,history=props.history,match=props.match,intl=props.intl,emitAction=props.emitAction,_useState=Object(react.useState)(!1),_useState2=slicedToArray_default()(_useState,2),touched=_useState2[0],setTouched=_useState2[1];if(!currentViewInfo||currentViewInfo.pathname!==history.location.pathname)return null;var queryFormName=query_string_default.a.parse(location.search).formName,entityName=currentViewInfo.model.name;return Object(jsx_runtime.jsxs)(StyledEntityDetailAppWrapper,{children:[Object(jsx_runtime.jsx)(react_router.a,{when:touched,message:function message(location){return history.location.pathname!==location.pathname&&function msg(id){return intl.formatMessage({id:id})}("client.entity-browser.detail.confirmTouchedFormLeave")}}),Object(jsx_runtime.jsx)(entity_detail_src_main.a,{entityName:entityName,entityId:currentViewInfo.key,formName:queryFormName||entityName,mode:"update",emitAction:emitAction,onTouchedChange:function handleToucheChanged(_ref){var touched=_ref.touched;setTouched(touched)},navigationStrategy:Object.assign({},Object(navigationStrategy.b)(history,match),{navigateToCreateRelative:function navigateToCreateRelative(relationName,state){if(relationName){var entityBaseUrl=Object(routing.a)(match.url,1);history.push({pathname:"".concat(entityBaseUrl,"/").concat(relationName,"/create"),state:state})}else{var _entityBaseUrl=Object(routing.a)(match.url,2);history.push({pathname:_entityBaseUrl+"/create",state:state})}}}),onEntityDeleted:function handleEntityDeleted(){var entityBaseUrl=Object(routing.a)(match.url,2);history.push(entityBaseUrl)},actionAppComponent:Action_LazyAction,onSubGridRowClick:function handleSubGridRowClick(_ref2){var id=_ref2.id,relationName=_ref2.relationName,entityBaseUrl=Object(routing.a)(match.url);history.push("".concat(entityBaseUrl,"/").concat(relationName,"/").concat(id))}})]})};EditView_EditView.displayName="EditView",EditView_EditView.__docgenInfo={description:"",methods:[],displayName:"EditView",props:{intl:{type:{name:"custom",raw:"intlShape"},required:!1,description:""},match:{type:{name:"object"},required:!1,description:""},history:{type:{name:"object"},required:!1,description:""},currentViewInfo:{type:{name:"custom",raw:"currentViewPropType"},required:!1,description:""},emitAction:{type:{name:"func"},required:!0,description:""}}};var components_EditView_EditView=EditView_EditView;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/routes/entities/components/EditView/EditView.js"]={name:"EditView",docgenInfo:EditView_EditView.__docgenInfo,path:"packages/admin/src/routes/entities/components/EditView/EditView.js"});var EditViewContainer_mapActionCreators={emitAction:function emitAction(action){return actionEmitter.a.dispatchEmittedAction(action)}},EditViewContainer=Object(es.connect)((function mapStateToProps(state,props){return{currentViewInfo:state.entities.path.currentViewInfos[props.history.location.pathname]}}),EditViewContainer_mapActionCreators)(Object(index_es.injectIntl)(components_EditView_EditView));function ErrorView_templateObject2(){var data=taggedTemplateLiteral_default()(["\n  color: ",";\n  font-size: ",";\n"]);return ErrorView_templateObject2=function _templateObject2(){return data},data}function ErrorView_templateObject(){var data=taggedTemplateLiteral_default()(["\n  width: 50vw;\n  max-width: 650px;\n  padding: ",";\n  text-align: center;\n  margin: 20vh auto auto;\n\n  h1 {\n    margin: 0 auto;\n  }\n"]);return ErrorView_templateObject=function _templateObject(){return data},data}var StyledErrorView=styled_components_browser_esm.default.div(ErrorView_templateObject(),modularScale.a.space(1)),StyledIconWrapper=styled_components_browser_esm.default.span(ErrorView_templateObject2(),resolveThemePath.a.color("signal.danger.text"),modularScale.a.font(13.4)),ErrorView_ref2=Object(jsx_runtime.jsx)(StyledIconWrapper,{children:Object(jsx_runtime.jsx)(LazyIcon.a,{icon:"times"})}),ErrorView_ErrorView=function ErrorView(_ref){var message=_ref.message,technicalReason=_ref.technicalReason;return Object(jsx_runtime.jsxs)(StyledErrorView,{children:[ErrorView_ref2,Object(jsx_runtime.jsx)(Typography.a.H1,{children:Object(jsx_runtime.jsx)(index_es.FormattedMessage,{id:message||"client.admin.errorView.defaultTitle"})}),Object(jsx_runtime.jsx)(Typography.a.Span,{children:technicalReason})]})};ErrorView_ErrorView.displayName="ErrorView",ErrorView_ErrorView.__docgenInfo={description:"",methods:[],displayName:"ErrorView",props:{technicalReason:{type:{name:"string"},required:!1,description:""},message:{type:{name:"string"},required:!1,description:""}}};var components_ErrorView_ErrorView=ErrorView_ErrorView;function DetailView_templateObject2(){var data=taggedTemplateLiteral_default()(["\n  flex: 1;\n\n  &:first-child {\n    margin-right: 1rem;\n\n    @media (max-width: 1024px) {\n      flex: none;\n      width: 40%;\n    }\n  }\n"]);return DetailView_templateObject2=function _templateObject2(){return data},data}function DetailView_templateObject(){var data=taggedTemplateLiteral_default()(["\n  display: flex;\n  flex-direction: row;\n  height: 100%;\n\n  .react-bs-container-body {\n    height: auto !important;\n  }\n"]);return DetailView_templateObject=function _templateObject(){return data},data}"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/components/ErrorView/ErrorView.js"]={name:"ErrorView",docgenInfo:ErrorView_ErrorView.__docgenInfo,path:"packages/admin/src/components/ErrorView/ErrorView.js"});var DetailViewContainer=styled_components_browser_esm.default.div(DetailView_templateObject()),DetailViewPart=styled_components_browser_esm.default.div(DetailView_templateObject2()),DetailView_DetailView=function DetailView(_ref){var match=_ref.match,history=_ref.history,currentViewInfo=_ref.currentViewInfo;return currentViewInfo&&currentViewInfo.error?Object(jsx_runtime.jsx)(components_ErrorView_ErrorView,{message:"client.admin.entity.detailError",technicalReason:currentViewInfo.error.message}):Object(jsx_runtime.jsxs)(DetailViewContainer,{children:[Object(jsx_runtime.jsx)(DetailViewPart,{children:Object(jsx_runtime.jsx)(EditViewContainer,{match:match,history:history})}),Object(jsx_runtime.jsx)(DetailViewPart,{children:Object(jsx_runtime.jsx)(components_RelationsView,{match:match,history:history})})]})};DetailView_DetailView.displayName="DetailView",DetailView_DetailView.__docgenInfo={description:"",methods:[],displayName:"DetailView",props:{intl:{type:{name:"custom",raw:"intlShape"},required:!1,description:""},match:{type:{name:"object"},required:!1,description:""},history:{type:{name:"object"},required:!1,description:""},currentViewInfo:{type:{name:"custom",raw:"currentViewPropType"},required:!1,description:""}}};var components_DetailView_DetailView=DetailView_DetailView;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/routes/entities/components/DetailView/DetailView.js"]={name:"DetailView",docgenInfo:DetailView_DetailView.__docgenInfo,path:"packages/admin/src/routes/entities/components/DetailView/DetailView.js"});var DetaiViewContainer=Object(es.connect)((function mapStateToProps(state,props){return{currentViewInfo:state.entities.path.currentViewInfos[props.history.location.pathname]}}),{})(Object(index_es.injectIntl)(components_DetailView_DetailView)),queryString=__webpack_require__(4958),ActionView_ActionView=function ActionView(_ref){var history=_ref.history,match=_ref.match,setCurrentViewTitle=_ref.setCurrentViewTitle,currentViewInfo=_ref.currentViewInfo,intl=_ref.intl,location=history.location;if(Object(react.useEffect)((function(){return currentViewInfo&&setCurrentViewTitle(intl.formatMessage({id:"client.actions.".concat(currentViewInfo.actionId,".title")})),function(){setCurrentViewTitle(null)}}),[currentViewInfo]),!currentViewInfo)return null;var queryParams=queryString.a.fromQueryString(location.search),selection=get_default()(location,"state.selection",queryParams.actionProperties),actionProperties=get_default()(location,"state.definition.properties",queryParams.actionProperties),navigateBack=function navigateBack(){history.replace(Object(routing.a)(match.url,2))};return Object(jsx_runtime.jsx)(Action_LazyAction,{history:history,match:match,appId:currentViewInfo.actionId,selection:selection,actionProperties:actionProperties,navigationStrategy:Object(navigationStrategy.b)(history,match),onSuccess:navigateBack,onError:navigateBack,onCancel:navigateBack})};ActionView_ActionView.displayName="ActionView";var ActionView_areEqual=function areEqual(prevProps,nextProps){return 0===Object.keys(js.a.difference(prevProps,nextProps)).length};ActionView_ActionView.__docgenInfo={description:"",methods:[],displayName:"ActionView",props:{intl:{type:{name:"custom",raw:"intlShape.isRequired"},required:!1,description:""},currentViewInfo:{type:{name:"custom",raw:"currentViewPropType"},required:!1,description:""},setCurrentViewTitle:{type:{name:"func"},required:!0,description:""},history:{type:{name:"shape",value:{replace:{name:"func",required:!0},location:{name:"shape",value:{search:{name:"string",required:!1},state:{name:"shape",value:{selection:{name:"object",required:!1},definition:{name:"shape",value:{appId:{name:"string",required:!1}},required:!1}},required:!1}},required:!1}}},required:!0,description:""},match:{type:{name:"object"},required:!1,description:""}}};var components_ActionView_ActionView=react_default.a.memo(ActionView_ActionView,ActionView_areEqual);"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/routes/entities/components/ActionView/ActionView.js"]={name:"ActionView",docgenInfo:ActionView_ActionView.__docgenInfo,path:"packages/admin/src/routes/entities/components/ActionView/ActionView.js"});var ActionViewContainer_mapActionCreators={setCurrentViewTitle:function setCurrentViewTitle(currentViewTitle){return{type:"path/SET_CURRENT_VIEW_TITLE",payload:{currentViewTitle:currentViewTitle}}}},ActionViewContainer=Object(es.connect)((function mapStateToProps(state,props){return{currentViewInfo:state.entities.path.currentViewInfos[props.history.location.pathname]}}),ActionViewContainer_mapActionCreators)(Object(index_es.injectIntl)(components_ActionView_ActionView));var EntityRecordRoute_EntityRecordRoute=function EntityRecordRoute(_ref){var match=_ref.match,count=function wordCount(str,word){return str.split(word).length-1}(match.path,":relation");return Object(jsx_runtime.jsxs)(react_router.e,{children:[Object(jsx_runtime.jsx)(react_router.c,{exact:!0,path:"".concat(match.url),render:function render(_ref2){var match=_ref2.match;return Object(jsx_runtime.jsx)(react_router.b,{to:"".concat(match.url.replace(/\/$/,""),"/detail")})}}),Object(jsx_runtime.jsx)(react_router.c,{path:"".concat(match.path,"/detail"),component:DetaiViewContainer}),Object(jsx_runtime.jsx)(react_router.c,{path:"".concat(match.path,"/edit"),component:EditViewContainer}),Object(jsx_runtime.jsx)(react_router.c,{path:"".concat(match.path,"/relations"),component:components_RelationsView}),Object(jsx_runtime.jsx)(react_router.c,{path:"".concat(match.path,"/action"),component:ActionViewContainer}),Object(jsx_runtime.jsx)(react_router.c,{path:"".concat(match.path,"/:relation_").concat(count),component:components_EntityRoute})]})};EntityRecordRoute_EntityRecordRoute.displayName="EntityRecordRoute",EntityRecordRoute_EntityRecordRoute.__docgenInfo={description:"",methods:[],displayName:"EntityRecordRoute",props:{match:{type:{name:"object"},required:!0,description:""}}};var components_EntityRecordRoute_EntityRecordRoute=EntityRecordRoute_EntityRecordRoute;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/routes/entities/components/EntityRecordRoute/EntityRecordRoute.js"]={name:"EntityRecordRoute",docgenInfo:EntityRecordRoute_EntityRecordRoute.__docgenInfo,path:"packages/admin/src/routes/entities/components/EntityRecordRoute/EntityRecordRoute.js"});var components_EntityRecordRoute=components_EntityRecordRoute_EntityRecordRoute,toConsumableArray=__webpack_require__(24),toConsumableArray_default=__webpack_require__.n(toConsumableArray);function CreateView_templateObject(){var data=taggedTemplateLiteral_default()(["\n  margin: 0;\n  background-color: ",";\n  padding: 0 0 0 ",";\n  overflow: hidden;\n  height: 100%;\n"]);return CreateView_templateObject=function _templateObject(){return data},data}var CreateView_StyledEntityDetailAppWrapper=styled_components_browser_esm.default.div(CreateView_templateObject(),resolveThemePath.a.color("paper"),modularScale.a.space(0)),CreateView_CreateView=function CreateView(props){var currentViewInfo=props.currentViewInfo,history=props.history,match=props.match,intl=props.intl,dispatchEmittedAction=props.dispatchEmittedAction,location=history.location,stateDefaultValues=get_default()(location,"state.defaultValues",[]),_useState=Object(react.useState)(!1),_useState2=slicedToArray_default()(_useState,2),touched=_useState2[0],setTouched=_useState2[1];if(!currentViewInfo)return null;var model=currentViewInfo.model,reverseRelation=currentViewInfo.reverseRelation,parentKey=currentViewInfo.parentKey,entityName=model.name,isMultiReverseRelation=get_default()(model,"paths.".concat(reverseRelation,".multi"),!1),defaultValues=[].concat(toConsumableArray_default()(reverseRelation&&parentKey?[{id:reverseRelation,value:isMultiReverseRelation?[parentKey]:parentKey}]:[]),toConsumableArray_default()(stateDefaultValues));return Object(jsx_runtime.jsxs)(CreateView_StyledEntityDetailAppWrapper,{children:[Object(jsx_runtime.jsx)(react_router.a,{when:touched,message:function msg(id){return intl.formatMessage({id:id})}("client.entity-browser.detail.confirmTouchedFormLeave")}),Object(jsx_runtime.jsx)(entity_detail_src_main.a,{entityName:entityName,formName:entityName,mode:"create",defaultValues:defaultValues,emitAction:function emitAction(action){dispatchEmittedAction(action)},navigationStrategy:Object(navigationStrategy.b)(history,match),onEntityCreated:function handleEntityCreated(_ref){var id=_ref.id;setTouched(!1),history.push(match.url.replace(/create$/,id))},onTouchedChange:function handleToucheChanged(_ref2){var touched=_ref2.touched;return setTouched(touched)}})]})};CreateView_CreateView.displayName="CreateView",CreateView_CreateView.__docgenInfo={description:"",methods:[],displayName:"CreateView",props:{intl:{type:{name:"custom",raw:"intlShape"},required:!1,description:""},match:{type:{name:"object"},required:!1,description:""},history:{type:{name:"object"},required:!1,description:""},currentViewInfo:{type:{name:"custom",raw:"currentViewPropType"},required:!1,description:""},dispatchEmittedAction:{type:{name:"func"},required:!0,description:""}}};var components_CreateView_CreateView=CreateView_CreateView;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/routes/entities/components/CreateView/CreateView.js"]={name:"CreateView",docgenInfo:CreateView_CreateView.__docgenInfo,path:"packages/admin/src/routes/entities/components/CreateView/CreateView.js"});var CreateViewContainer_mapActionCreators={dispatchEmittedAction:actionEmitter.a.dispatchEmittedAction},CreateViewContainer=Object(es.connect)((function mapStateToProps(state,props){return{currentViewInfo:state.entities.path.currentViewInfos[props.history.location.pathname]}}),CreateViewContainer_mapActionCreators)(Object(index_es.injectIntl)(components_CreateView_CreateView)),ListView_DocsViewAdapter_DocsViewAdapter=function DocsViewAdapter(_ref){var currentViewInfo=_ref.currentViewInfo;return Object(jsx_runtime.jsx)(components_DocsView,{noLeftPadding:!1,entityName:currentViewInfo.parentModel.name,entityKey:currentViewInfo.parentKey,showActions:!0})};ListView_DocsViewAdapter_DocsViewAdapter.displayName="DocsViewAdapter",ListView_DocsViewAdapter_DocsViewAdapter.__docgenInfo={description:"",methods:[],displayName:"DocsViewAdapter",props:{currentViewInfo:{type:{name:"custom",raw:"currentViewPropType"},required:!1,description:""}}};var ListView_DocsViewAdapter=ListView_DocsViewAdapter_DocsViewAdapter;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/routes/entities/components/ListView/DocsViewAdapter.js"]={name:"DocsViewAdapter",docgenInfo:ListView_DocsViewAdapter_DocsViewAdapter.__docgenInfo,path:"packages/admin/src/routes/entities/components/ListView/DocsViewAdapter.js"});var ListView_ListView_ListView=function ListView(_ref){var match=_ref.match,history=_ref.history,currentViewInfo=_ref.currentViewInfo,emitAction=_ref.emitAction;if(currentViewInfo&&currentViewInfo.error)return Object(jsx_runtime.jsx)(components_ErrorView_ErrorView,{technicalReason:currentViewInfo.error.message});if(!currentViewInfo)return null;var queryParams=query_string_default.a.parse(history.location.search);return"Resource"===currentViewInfo.model.name?Object(jsx_runtime.jsx)(ListView_DocsViewAdapter,{currentViewInfo:currentViewInfo}):Object(jsx_runtime.jsx)(main.a,Object.assign({emitAction:emitAction,limit:25,id:"".concat(currentViewInfo.model.name,"_list"),entityName:currentViewInfo.model.name,formName:queryParams.formName||currentViewInfo.model.name,onRowClick:function handleRowClick(_ref2){var id=_ref2.id;history.push(match.url.replace(/list$/,"")+id)}},currentViewInfo.reverseRelation&&{parent:{key:currentViewInfo.parentKey,reverseRelationName:currentViewInfo.reverseRelation,model:currentViewInfo.parentModel.name}},{showLink:!0,navigationStrategy:Object(navigationStrategy.b)(history,match),searchFormPosition:"left",searchFormType:"admin",store:viewPersistor.a.viewInfoSelector(history.location.pathname).store,onStoreCreate:function onStoreCreate(store){viewPersistor.a.persistViewInfo(history.location.pathname,{store:store},currentViewInfo.level)},actionAppComponent:Action_LazyAction,tql:queryParams.tql}))};ListView_ListView_ListView.displayName="ListView",ListView_ListView_ListView.__docgenInfo={description:"",methods:[],displayName:"ListView",props:{match:{type:{name:"object"},required:!0,description:""},emitAction:{type:{name:"func"},required:!0,description:""},history:{type:{name:"object"},required:!0,description:""},currentViewInfo:{type:{name:"custom",raw:"currentViewPropType"},required:!1,description:""},persistedViewInfo:{type:{name:"shape",value:{store:{name:"object",required:!1}}},required:!1,description:""}}};var components_ListView_ListView=ListView_ListView_ListView;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/routes/entities/components/ListView/ListView.js"]={name:"ListView",docgenInfo:ListView_ListView_ListView.__docgenInfo,path:"packages/admin/src/routes/entities/components/ListView/ListView.js"});var ListViewContainer_mapActionCreators={emitAction:function emitAction(action){return actionEmitter.a.dispatchEmittedAction(action)}},ListViewContainer=Object(es.connect)((function mapStateToProps(state,props){return{currentViewInfo:state.entities.path.currentViewInfos[props.history.location.pathname]}}),ListViewContainer_mapActionCreators)(Object(index_es.injectIntl)(components_ListView_ListView)),EntityRoute_EntityRoute=function EntityRoute(_ref){var match=_ref.match;return Object(jsx_runtime.jsxs)(react_router.e,{children:[Object(jsx_runtime.jsx)(react_router.c,{exact:!0,path:match.url,render:function render(_ref2){var match=_ref2.match;return Object(jsx_runtime.jsx)(react_router.b,{to:"".concat(match.url.replace(/\/$/,""),"/list")})}}),Object(jsx_runtime.jsx)(react_router.c,{path:"".concat(match.path,"/action/:id"),component:ActionViewContainer}),Object(jsx_runtime.jsx)(react_router.c,{path:"".concat(match.path,"/list"),component:ListViewContainer}),Object(jsx_runtime.jsx)(react_router.c,{path:"".concat(match.path,"/create"),component:CreateViewContainer}),Object(jsx_runtime.jsx)(react_router.c,{path:"".concat(match.path,"/:key"),component:components_EntityRecordRoute})]})};EntityRoute_EntityRoute.displayName="EntityRoute",EntityRoute_EntityRoute.__docgenInfo={description:"",methods:[],displayName:"EntityRoute",props:{match:{type:{name:"object"},required:!0,description:""}}};var components_EntityRoute_EntityRoute=EntityRoute_EntityRoute;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/routes/entities/components/EntityRoute/EntityRoute.js"]={name:"EntityRoute",docgenInfo:EntityRoute_EntityRoute.__docgenInfo,path:"packages/admin/src/routes/entities/components/EntityRoute/EntityRoute.js"});var components_EntityRoute=components_EntityRoute_EntityRoute,Breadcrumbs=__webpack_require__(5164),BreadcrumbsContainer=Object(es.connect)((function mapStateToProps(state,props){return{pathPrefix:"/e",breadcrumbsInfo:state.entities.path.breadcrumbsInfo,currentViewTitle:state.entities.path.currentViewTitle}}),{})(Object(index_es.injectIntl)(Breadcrumbs.a));function EntitiesRoute_templateObject3(){var data=taggedTemplateLiteral_default()(["\n  grid-area: breadcrumbs;\n"]);return EntitiesRoute_templateObject3=function _templateObject3(){return data},data}function EntitiesRoute_templateObject2(){var data=taggedTemplateLiteral_default()(["\n  grid-area: content;\n  overflow: hidden;\n"]);return EntitiesRoute_templateObject2=function _templateObject2(){return data},data}function EntitiesRoute_templateObject(){var data=taggedTemplateLiteral_default()(["\n  display: grid;\n  grid-template-rows: auto 1fr;\n  grid-template-areas:\n    'breadcrumbs'\n    'content';\n  height: 100%;\n  width: 100%;\n"]);return EntitiesRoute_templateObject=function _templateObject(){return data},data}var StyledWrapper=styled_components_browser_esm.default.div(EntitiesRoute_templateObject()),StyledContent=styled_components_browser_esm.default.div(EntitiesRoute_templateObject2()),StyledBreadcrumbs=styled_components_browser_esm.default.div(EntitiesRoute_templateObject3()),EntitiesRoute_ref2=Object(jsx_runtime.jsx)(StyledBreadcrumbs,{children:Object(jsx_runtime.jsx)(BreadcrumbsContainer,{})}),EntitiesRoute_EntitiesRoute=function EntitiesRoute(_ref){var match=_ref.match,history=_ref.history,loadCurrentRoute=_ref.loadCurrentRoute,location=history.location;return Object(react.useEffect)((function(){loadCurrentRoute(location)}),[location]),Object(jsx_runtime.jsxs)(StyledWrapper,{children:[EntitiesRoute_ref2,Object(jsx_runtime.jsx)(StyledContent,{children:Object(jsx_runtime.jsxs)(react_router.e,{children:[Object(jsx_runtime.jsx)(react_router.c,{path:"".concat(match.url,"/action/:actionId"),component:ActionViewContainer}),Object(jsx_runtime.jsx)(react_router.c,{path:"".concat(match.url,"/:entity"),component:components_EntityRoute}),Object(jsx_runtime.jsx)(react_router.c,{exact:!0,path:match.url,component:components_EntitiesOverview})]})})]})};EntitiesRoute_EntitiesRoute.displayName="EntitiesRoute",EntitiesRoute_EntitiesRoute.__docgenInfo={description:"",methods:[],displayName:"EntitiesRoute",props:{loadCurrentRoute:{type:{name:"func"},required:!0,description:""},history:{type:{name:"object"},required:!0,description:""},match:{type:{name:"object"},required:!0,description:""}}};var components_EntitiesRoute_EntitiesRoute=EntitiesRoute_EntitiesRoute;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/routes/entities/components/EntitiesRoute/EntitiesRoute.js"]={name:"EntitiesRoute",docgenInfo:EntitiesRoute_EntitiesRoute.__docgenInfo,path:"packages/admin/src/routes/entities/components/EntitiesRoute/EntitiesRoute.js"});var EntitiesRouteContainer_mapActionCreators={loadCurrentRoute:function loadCurrentRoute(location){return{type:"path/LOAD_CURRENT_ROUTE",payload:{location:location}}}},components_EntitiesRoute=Object(es.connect)(null,EntitiesRouteContainer_mapActionCreators)(Object(index_es.injectIntl)(components_EntitiesRoute_EntitiesRoute));__webpack_exports__.default={container:components_EntitiesRoute,reducers:{entities:Object(redux.combineReducers)({path:modules_path})},sagas:[mainSagas]}}}]);