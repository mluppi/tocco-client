(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{2718:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _reducer2=_interopRequireDefault(__webpack_require__(371)),_EntityDetailContainer2=_interopRequireDefault(__webpack_require__(2797)),_sagas2=_interopRequireDefault(__webpack_require__(2815)),_modules2=_interopRequireDefault(__webpack_require__(2820));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default={container:_EntityDetailContainer2.default,reducers:{detail:_modules2.default,form:_reducer2.default},sagas:[_sagas2.default]}},2730:function(module,exports,__webpack_require__){module.exports=__webpack_require__(2802)()},2735:function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var obj,_Router=__webpack_require__(369),_Router2=(obj=_Router)&&obj.__esModule?obj:{default:obj};exports.default=_Router2.default},2736:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var SET_FORM_TOUCHED=exports.SET_FORM_TOUCHED="detailView/SET_FORM_TOUCHED",LOAD_DETAIL_PARAMS=exports.LOAD_DETAIL_PARAMS="root/LOAD_DETAIL_PARAMS",SET_DETAIL_PARAMS=exports.SET_DETAIL_PARAMS="root/SET_DETAIL_PARAMS",CLEAR_DETAIL_PARAMS=exports.CLEAR_DETAIL_PARAMS="root/CLEAR_DETAIL_PARAMS";exports.setFormTouched=function(formTouched){return{type:SET_FORM_TOUCHED,payload:{formTouched:formTouched}}},exports.loadDetailParams=function(url){return{type:LOAD_DETAIL_PARAMS,payload:{url:url}}},exports.setDetailParams=function(detailParams){return{type:SET_DETAIL_PARAMS,payload:{detailParams:detailParams}}},exports.clearDetailParams=function(){return{type:CLEAR_DETAIL_PARAMS}}},2751:function(module,exports,__webpack_require__){"use strict";var warning=function(){};module.exports=warning},2752:function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_react2=_interopRequireDefault(__webpack_require__(0)),_propTypes2=_interopRequireDefault(__webpack_require__(2730)),_invariant2=_interopRequireDefault(__webpack_require__(2805)),_history=__webpack_require__(366);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}var isModifiedEvent=function(event){return!!(event.metaKey||event.altKey||event.ctrlKey||event.shiftKey)},Link=function(_React$Component){function Link(){var _temp,_this;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Link);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _temp=_this=_possibleConstructorReturn(this,_React$Component.call.apply(_React$Component,[this].concat(args))),_this.handleClick=function(event){if(_this.props.onClick&&_this.props.onClick(event),!event.defaultPrevented&&0===event.button&&!_this.props.target&&!isModifiedEvent(event)){event.preventDefault();var history=_this.context.router.history,_this$props=_this.props,replace=_this$props.replace,to=_this$props.to;replace?history.replace(to):history.push(to)}},_possibleConstructorReturn(_this,_temp)}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(Link,_React$Component),Link.prototype.render=function(){var _props=this.props,to=(_props.replace,_props.to),innerRef=_props.innerRef,props=function(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}(_props,["replace","to","innerRef"]);(0,_invariant2.default)(this.context.router,"You should not use <Link> outside a <Router>"),(0,_invariant2.default)(void 0!==to,'You must specify the "to" property');var history=this.context.router.history,location="string"==typeof to?(0,_history.createLocation)(to,null,null,history.location):to,href=history.createHref(location);return _react2.default.createElement("a",_extends({},props,{onClick:this.handleClick,href:href,ref:innerRef}))},Link}(_react2.default.Component);Link.propTypes={onClick:_propTypes2.default.func,target:_propTypes2.default.string,replace:_propTypes2.default.bool,to:_propTypes2.default.oneOfType([_propTypes2.default.string,_propTypes2.default.object]).isRequired,innerRef:_propTypes2.default.oneOfType([_propTypes2.default.string,_propTypes2.default.func])},Link.defaultProps={replace:!1},Link.contextTypes={router:_propTypes2.default.shape({history:_propTypes2.default.shape({push:_propTypes2.default.func.isRequired,replace:_propTypes2.default.func.isRequired,createHref:_propTypes2.default.func.isRequired}).isRequired}).isRequired},exports.default=Link},2753:function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var obj,_Route=__webpack_require__(551),_Route2=(obj=_Route)&&obj.__esModule?obj:{default:obj};exports.default=_Route2.default},2797:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _reactRedux=__webpack_require__(27),_reactIntl=__webpack_require__(9),_actionEmitter2=_interopRequireDefault(__webpack_require__(88)),_EntityDetail2=_interopRequireDefault(__webpack_require__(2798)),_actions=__webpack_require__(2736);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var mapActionCreators={loadDetailParams:_actions.loadDetailParams,clearDetailParams:_actions.clearDetailParams,setFormTouched:_actions.setFormTouched,dispatchEmittedAction:_actionEmitter2.default.dispatchEmittedAction};exports.default=(0,_reactRedux.connect)(function(state,props){return{appId:state.entityBrowser.appId,detailParams:state.detail.detailParams,formTouched:state.detail.formTouched,showSubGridsCreateButton:state.input.showCreateButton}},mapActionCreators)((0,_reactIntl.injectIntl)(_EntityDetail2.default))},2798:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var obj,_EntityDetail=__webpack_require__(2799),_EntityDetail2=(obj=_EntityDetail)&&obj.__esModule?obj:{default:obj};exports.default=_EntityDetail2.default},2799:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_propTypes2=_interopRequireDefault(__webpack_require__(7)),_react2=_interopRequireDefault(__webpack_require__(0)),_reactRouterDom=__webpack_require__(2800),_reactIntl=__webpack_require__(9),_toccoUi=__webpack_require__(19),_main2=_interopRequireDefault(__webpack_require__(1216));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}var EntityDetail=function(_React$Component){function EntityDetail(){var _ref,_temp,_this;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,EntityDetail);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _temp=_this=_possibleConstructorReturn(this,(_ref=EntityDetail.__proto__||Object.getPrototypeOf(EntityDetail)).call.apply(_ref,[this].concat(args))),_this.handleSubGridRowClick=function(_ref2){var id=_ref2.id,relationName=(_ref2.gridName,_ref2.relationName);_this.props.router.history.push(_this.props.router.match.url+"/"+relationName+"/"+id)},_this.handleSubGridNavigateToCreate=function(_ref3){_ref3.gridName;var relationName=_ref3.relationName;_this.props.router.history.push(_this.props.router.match.url+"/"+relationName+"/")},_this.handleEntityCreated=function(_ref4){var id=_ref4.id;_this.props.setFormTouched(!1);var url=_this.props.router.match.url;url="/"!==url.substr(-1)?url+="/":url,_this.props.router.history.push(""+url+id)},_this.handleTouchedChange=function(_ref5){var touched=_ref5.touched;_this.props.setFormTouched(touched)},_this.handleGoBack=function(){_this.props.router.history.push(_this.props.detailParams.parentUrl)},_this.getApp=function(_ref6){var entityName=_ref6.entityName,entityId=_ref6.entityId,formName=_ref6.formName,mode=_ref6.mode;return _react2.default.createElement(_main2.default,{id:_this.props.appId+"_detail_"+formName+"_"+entityId,entityName:entityName,entityId:entityId,formName:formName,mode:mode,onSubGridRowClick:_this.handleSubGridRowClick,onSubGridNavigateToCreate:_this.handleSubGridNavigateToCreate,onEntityCreated:_this.handleEntityCreated,onTouchedChange:_this.handleTouchedChange,emitAction:function(action){_this.props.dispatchEmittedAction(action)},showSubGridsCreateButton:_this.props.showSubGridsCreateButton,theme:{}})},_this.msg=function(id){return _this.props.intl.formatMessage({id:id})},_this.render=function(){return _react2.default.createElement("div",null,_react2.default.createElement("div",null,_react2.default.createElement(_reactRouterDom.Prompt,{when:_this.props.formTouched,message:_this.msg("client.entity-browser.detail.confirmTouchedFormLeave")}),_this.props.detailParams&&_react2.default.createElement("div",null,_this.props.detailParams.showBackButton&&_react2.default.createElement("div",{style:{marginBottom:".5em"}},_react2.default.createElement(_toccoUi.Button,{icon:"chevron-left",label:_this.msg("client.entity-browser.back"),look:"raised",onClick:_this.handleGoBack})),_this.getApp(_this.props.detailParams))))},_possibleConstructorReturn(_this,_temp)}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(EntityDetail,_react2.default.Component),_createClass(EntityDetail,[{key:"componentWillMount",value:function(){this.props.loadDetailParams(this.props.router.match.url),this.props.setFormTouched(!1)}},{key:"componentWillUnmount",value:function(){this.props.clearDetailParams()}}]),EntityDetail}();EntityDetail.propTypes={intl:_reactIntl.intlShape.isRequired,dispatchEmittedAction:_propTypes2.default.func.isRequired,loadDetailParams:_propTypes2.default.func.isRequired,clearDetailParams:_propTypes2.default.func.isRequired,setFormTouched:_propTypes2.default.func.isRequired,router:_propTypes2.default.object.isRequired,detailParams:_propTypes2.default.object,formTouched:_propTypes2.default.bool,showSubGridsCreateButton:_propTypes2.default.bool,appId:_propTypes2.default.string},exports.default=EntityDetail,EntityDetail.__docgenInfo={description:"",methods:[{name:"handleSubGridRowClick",docblock:null,modifiers:[],params:[{name:"{id, gridName, relationName}",type:null}],returns:null},{name:"handleSubGridNavigateToCreate",docblock:null,modifiers:[],params:[{name:"{gridName, relationName}",type:null}],returns:null},{name:"handleEntityCreated",docblock:null,modifiers:[],params:[{name:"{id}",type:null}],returns:null},{name:"handleTouchedChange",docblock:null,modifiers:[],params:[{name:"{touched}",type:null}],returns:null},{name:"handleGoBack",docblock:null,modifiers:[],params:[],returns:null},{name:"getApp",docblock:null,modifiers:[],params:[{name:"{entityName, entityId, formName, mode}",type:null}],returns:null},{name:"msg",docblock:null,modifiers:[],params:[{name:"id",type:null}],returns:null},{name:"render",docblock:null,modifiers:[],params:[],returns:null}],displayName:"EntityDetail",props:{intl:{type:{name:"custom",raw:"intlShape.isRequired"},required:!1,description:""},dispatchEmittedAction:{type:{name:"func"},required:!0,description:""},loadDetailParams:{type:{name:"func"},required:!0,description:""},clearDetailParams:{type:{name:"func"},required:!0,description:""},setFormTouched:{type:{name:"func"},required:!0,description:""},router:{type:{name:"object"},required:!0,description:""},detailParams:{type:{name:"object"},required:!1,description:""},formTouched:{type:{name:"bool"},required:!1,description:""},showSubGridsCreateButton:{type:{name:"bool"},required:!1,description:""},appId:{type:{name:"string"},required:!1,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/entity-browser/src/routes/detail/components/EntityDetail/EntityDetail.js"]={name:"EntityDetail",docgenInfo:EntityDetail.__docgenInfo,path:"packages/entity-browser/src/routes/detail/components/EntityDetail/EntityDetail.js"})},2800:function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.withRouter=exports.matchPath=exports.generatePath=exports.Switch=exports.StaticRouter=exports.Router=exports.Route=exports.Redirect=exports.Prompt=exports.NavLink=exports.MemoryRouter=exports.Link=exports.HashRouter=exports.BrowserRouter=void 0;var _BrowserRouter3=_interopRequireDefault(__webpack_require__(2801)),_HashRouter3=_interopRequireDefault(__webpack_require__(2804)),_Link3=_interopRequireDefault(__webpack_require__(2752)),_MemoryRouter3=_interopRequireDefault(__webpack_require__(2806)),_NavLink3=_interopRequireDefault(__webpack_require__(2807)),_Prompt3=_interopRequireDefault(__webpack_require__(2808)),_Redirect3=_interopRequireDefault(__webpack_require__(2809)),_Route3=_interopRequireDefault(__webpack_require__(2753)),_Router3=_interopRequireDefault(__webpack_require__(2735)),_StaticRouter3=_interopRequireDefault(__webpack_require__(2810)),_Switch3=_interopRequireDefault(__webpack_require__(2811)),_generatePath3=_interopRequireDefault(__webpack_require__(2812)),_matchPath3=_interopRequireDefault(__webpack_require__(2813)),_withRouter3=_interopRequireDefault(__webpack_require__(2814));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.BrowserRouter=_BrowserRouter3.default,exports.HashRouter=_HashRouter3.default,exports.Link=_Link3.default,exports.MemoryRouter=_MemoryRouter3.default,exports.NavLink=_NavLink3.default,exports.Prompt=_Prompt3.default,exports.Redirect=_Redirect3.default,exports.Route=_Route3.default,exports.Router=_Router3.default,exports.StaticRouter=_StaticRouter3.default,exports.Switch=_Switch3.default,exports.generatePath=_generatePath3.default,exports.matchPath=_matchPath3.default,exports.withRouter=_withRouter3.default},2801:function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _warning2=_interopRequireDefault(__webpack_require__(2751)),_react2=_interopRequireDefault(__webpack_require__(0)),_propTypes2=_interopRequireDefault(__webpack_require__(2730)),_history=__webpack_require__(366),_Router2=_interopRequireDefault(__webpack_require__(2735));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}var BrowserRouter=function(_React$Component){function BrowserRouter(){var _temp,_this;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,BrowserRouter);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _temp=_this=_possibleConstructorReturn(this,_React$Component.call.apply(_React$Component,[this].concat(args))),_this.history=(0,_history.createBrowserHistory)(_this.props),_possibleConstructorReturn(_this,_temp)}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(BrowserRouter,_React$Component),BrowserRouter.prototype.componentWillMount=function(){(0,_warning2.default)(!this.props.history,"<BrowserRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { BrowserRouter as Router }`.")},BrowserRouter.prototype.render=function(){return _react2.default.createElement(_Router2.default,{history:this.history,children:this.props.children})},BrowserRouter}(_react2.default.Component);BrowserRouter.propTypes={basename:_propTypes2.default.string,forceRefresh:_propTypes2.default.bool,getUserConfirmation:_propTypes2.default.func,keyLength:_propTypes2.default.number,children:_propTypes2.default.node},exports.default=BrowserRouter},2802:function(module,exports,__webpack_require__){"use strict";var emptyFunction=__webpack_require__(104),invariant=__webpack_require__(151),ReactPropTypesSecret=__webpack_require__(2803);module.exports=function(){function shim(props,propName,componentName,location,propFullName,secret){secret!==ReactPropTypesSecret&&invariant(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function getShim(){return shim}shim.isRequired=shim;var ReactPropTypes={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim};return ReactPropTypes.checkPropTypes=emptyFunction,ReactPropTypes.PropTypes=ReactPropTypes,ReactPropTypes}},2803:function(module,exports,__webpack_require__){"use strict";module.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},2804:function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _warning2=_interopRequireDefault(__webpack_require__(2751)),_react2=_interopRequireDefault(__webpack_require__(0)),_propTypes2=_interopRequireDefault(__webpack_require__(2730)),_history=__webpack_require__(366),_Router2=_interopRequireDefault(__webpack_require__(2735));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}var HashRouter=function(_React$Component){function HashRouter(){var _temp,_this;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,HashRouter);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _temp=_this=_possibleConstructorReturn(this,_React$Component.call.apply(_React$Component,[this].concat(args))),_this.history=(0,_history.createHashHistory)(_this.props),_possibleConstructorReturn(_this,_temp)}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(HashRouter,_React$Component),HashRouter.prototype.componentWillMount=function(){(0,_warning2.default)(!this.props.history,"<HashRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { HashRouter as Router }`.")},HashRouter.prototype.render=function(){return _react2.default.createElement(_Router2.default,{history:this.history,children:this.props.children})},HashRouter}(_react2.default.Component);HashRouter.propTypes={basename:_propTypes2.default.string,getUserConfirmation:_propTypes2.default.func,hashType:_propTypes2.default.oneOf(["hashbang","noslash","slash"]),children:_propTypes2.default.node},exports.default=HashRouter},2805:function(module,exports,__webpack_require__){"use strict";module.exports=function(condition,format,a,b,c,d,e,f){if(!condition){var error;if(void 0===format)error=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var args=[a,b,c,d,e,f],argIndex=0;(error=new Error(format.replace(/%s/g,function(){return args[argIndex++]}))).name="Invariant Violation"}throw error.framesToPop=1,error}}},2806:function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var obj,_MemoryRouter=__webpack_require__(1209),_MemoryRouter2=(obj=_MemoryRouter)&&obj.__esModule?obj:{default:obj};exports.default=_MemoryRouter2.default},2807:function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_react2=_interopRequireDefault(__webpack_require__(0)),_propTypes2=_interopRequireDefault(__webpack_require__(2730)),_Route2=_interopRequireDefault(__webpack_require__(2753)),_Link2=_interopRequireDefault(__webpack_require__(2752));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var NavLink=function(_ref){var to=_ref.to,exact=_ref.exact,strict=_ref.strict,location=_ref.location,activeClassName=_ref.activeClassName,className=_ref.className,activeStyle=_ref.activeStyle,style=_ref.style,getIsActive=_ref.isActive,ariaCurrent=_ref["aria-current"],rest=function(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}(_ref,["to","exact","strict","location","activeClassName","className","activeStyle","style","isActive","aria-current"]),path="object"===(void 0===to?"undefined":_typeof(to))?to.pathname:to,escapedPath=path&&path.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1");return _react2.default.createElement(_Route2.default,{path:escapedPath,exact:exact,strict:strict,location:location,children:function(_ref2){var location=_ref2.location,match=_ref2.match,isActive=!!(getIsActive?getIsActive(match,location):match);return _react2.default.createElement(_Link2.default,_extends({to:to,className:isActive?[className,activeClassName].filter(function(i){return i}).join(" "):className,style:isActive?_extends({},style,activeStyle):style,"aria-current":isActive&&ariaCurrent||null},rest))}})};NavLink.propTypes={to:_Link2.default.propTypes.to,exact:_propTypes2.default.bool,strict:_propTypes2.default.bool,location:_propTypes2.default.object,activeClassName:_propTypes2.default.string,className:_propTypes2.default.string,activeStyle:_propTypes2.default.object,style:_propTypes2.default.object,isActive:_propTypes2.default.func,"aria-current":_propTypes2.default.oneOf(["page","step","location","date","time","true"])},NavLink.defaultProps={activeClassName:"active","aria-current":"page"},exports.default=NavLink},2808:function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var obj,_Prompt=__webpack_require__(1210),_Prompt2=(obj=_Prompt)&&obj.__esModule?obj:{default:obj};exports.default=_Prompt2.default},2809:function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var obj,_Redirect=__webpack_require__(1211),_Redirect2=(obj=_Redirect)&&obj.__esModule?obj:{default:obj};exports.default=_Redirect2.default},2810:function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var obj,_StaticRouter=__webpack_require__(1212),_StaticRouter2=(obj=_StaticRouter)&&obj.__esModule?obj:{default:obj};exports.default=_StaticRouter2.default},2811:function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var obj,_Switch=__webpack_require__(1213),_Switch2=(obj=_Switch)&&obj.__esModule?obj:{default:obj};exports.default=_Switch2.default},2812:function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var obj,_generatePath=__webpack_require__(550),_generatePath2=(obj=_generatePath)&&obj.__esModule?obj:{default:obj};exports.default=_generatePath2.default},2813:function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var obj,_matchPath=__webpack_require__(370),_matchPath2=(obj=_matchPath)&&obj.__esModule?obj:{default:obj};exports.default=_matchPath2.default},2814:function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var obj,_withRouter=__webpack_require__(1214),_withRouter2=(obj=_withRouter)&&obj.__esModule?obj:{default:obj};exports.default=_withRouter2.default},2815:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.inputSelector=exports.entityBrowserSelector=void 0,exports.default=sagas,exports.clearDetailParams=clearDetailParams,exports.loadEntityDetail=loadEntityDetail,exports.getTargetEntity=getTargetEntity;var actions=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(__webpack_require__(2736)),_entities=__webpack_require__(2816),_parseUrl2=_interopRequireDefault(__webpack_require__(2817)),_showBackButton2=_interopRequireDefault(__webpack_require__(2818)),_detail2=_interopRequireDefault(__webpack_require__(2819)),_effects=__webpack_require__(14);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _marked=regeneratorRuntime.mark(sagas),_marked2=regeneratorRuntime.mark(clearDetailParams),_marked3=regeneratorRuntime.mark(loadEntityDetail),_marked4=regeneratorRuntime.mark(getTargetEntity),entityBrowserSelector=exports.entityBrowserSelector=function(state){return state.entityBrowser},inputSelector=exports.inputSelector=function(state){return state.input};function sagas(){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,(0,_effects.all)([(0,_effects.fork)(_effects.takeLatest,actions.LOAD_DETAIL_PARAMS,loadEntityDetail),(0,_effects.fork)(_effects.takeLatest,actions.CLEAR_DETAIL_PARAMS,clearDetailParams)]);case 2:case"end":return _context.stop()}},_marked,this)}function clearDetailParams(){return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,(0,_effects.put)(actions.setDetailParams(void 0));case 2:case"end":return _context2.stop()}},_marked2,this)}function loadEntityDetail(_ref){var _ref2,modelPaths,entityId,parentUrl,_ref3,entityName,formBase,mode,targetEntityName,formName,formExtension,_ref4,initialKey,showBackButton,detailParams,payload=_ref.payload;return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,(0,_effects.call)(_parseUrl2.default,payload.url);case 2:return _ref2=_context3.sent,modelPaths=_ref2.modelPaths,entityId=_ref2.entityId,parentUrl=_ref2.parentUrl,_context3.next=8,(0,_effects.select)(entityBrowserSelector);case 8:return _ref3=_context3.sent,entityName=_ref3.entityName,formBase=_ref3.formBase,_context3.next=13,(0,_effects.call)(_detail2.default.getMode,entityId);case 13:if(mode=_context3.sent,targetEntityName=entityName,formName=formBase,!(modelPaths&&modelPaths.length>0)){_context3.next=21;break}return _context3.next=19,(0,_effects.call)(getTargetEntity,entityName,modelPaths);case 19:targetEntityName=_context3.sent,formName=formBase+"_"+targetEntityName;case 21:return _context3.next=23,(0,_effects.call)(_detail2.default.getFormExtension,mode);case 23:return formExtension=_context3.sent,formName+=formExtension,_context3.next=27,(0,_effects.select)(inputSelector);case 27:return _ref4=_context3.sent,initialKey=_ref4.initialKey,_context3.next=31,(0,_effects.call)(_showBackButton2.default,initialKey,modelPaths);case 31:return showBackButton=_context3.sent,detailParams={mode:mode,entityId:entityId,entityName:targetEntityName,formName:formName,parentUrl:parentUrl,showBackButton:showBackButton},_context3.next=35,(0,_effects.put)(actions.setDetailParams(detailParams));case 35:case"end":return _context3.stop()}},_marked3,this)}function getTargetEntity(entityName,modelPaths){var targetEntityName,model,i,path,relation;return regeneratorRuntime.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return targetEntityName=entityName,_context4.next=3,(0,_effects.call)(_entities.fetchModel,targetEntityName);case 3:model=_context4.sent,i=0;case 5:if(!(i<modelPaths.length)){_context4.next=18;break}if(path=modelPaths[i],relation=model[path]){_context4.next=10;break}throw new Error("No such path '"+path+"' found on entity model '"+targetEntityName+"'");case 10:if(targetEntityName=relation.targetEntity,!(i+1<modelPaths.length)){_context4.next=15;break}return _context4.next=14,(0,_effects.call)(_entities.fetchModel,targetEntityName);case 14:model=_context4.sent;case 15:i++,_context4.next=5;break;case 18:return _context4.abrupt("return",targetEntityName);case 19:case"end":return _context4.stop()}},_marked4,this)}},2816:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.defaultModelTransformer=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};exports.fetchModel=fetchModel;var obj,_rest=__webpack_require__(43),_rest2=(obj=_rest)&&obj.__esModule?obj:{default:obj},_effects=__webpack_require__(14);var _marked=regeneratorRuntime.mark(fetchModel),defaultModelTransformer=exports.defaultModelTransformer=function(json){var model={};return json.fields.forEach(function(field){model[field.fieldName]=_extends({},field)}),json.relations.forEach(function(relation){model[relation.relationName]=_extends({type:"relation"},relation)}),model};function fetchModel(entityName){var resp,transformer=arguments.length>1&&void 0!==arguments[1]?arguments[1]:defaultModelTransformer;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,(0,_effects.call)(_rest2.default.requestSaga,"entities/"+entityName+"/model");case 2:return resp=_context.sent,_context.next=5,(0,_effects.call)(transformer,resp.body);case 5:return _context.abrupt("return",_context.sent);case 6:case"end":return _context.stop()}},_marked,this)}},2817:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.default=function(url){var parts=url.split("/").filter(function(part){return!!part}),lastPart=parts[parts.length-1],modelPaths=parts.filter(function(el,idx){return idx>1&&idx%2==0});if(isNaN(lastPart))return{modelPaths:modelPaths,entityId:void 0,parentUrl:"/"+parts.slice(0,-1).join("/")};return{modelPaths:modelPaths,entityId:parts[parts.length-1],parentUrl:"/"+parts.slice(0,-2).join("/")}}},2818:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.default=function(initialKey,modelPaths){return 0!==modelPaths.length||!initialKey||isNaN(initialKey)}},2819:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var modes={CREATE:"create",UPDATE:"update"},getMode=exports.getMode=function(entityId){return void 0===entityId?modes.CREATE:modes.UPDATE},getFormExtension=exports.getFormExtension=function(mode){return mode===modes.CREATE?"_create":"_detail"};exports.default={modes:modes,getMode:getMode,getFormExtension:getFormExtension}},2820:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var obj,_reducer=__webpack_require__(2821),_reducer2=(obj=_reducer)&&obj.__esModule?obj:{default:obj};exports.default=_reducer2.default},2821:function(module,exports,__webpack_require__){"use strict";var _ACTION_HANDLERS;Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:initialState,action=arguments[1],handler=ACTION_HANDLERS[action.type];return handler?handler(state,action):state};var obj,_reducer=__webpack_require__(46),_reducer2=(obj=_reducer)&&obj.__esModule?obj:{default:obj},actions=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(__webpack_require__(2736));function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var ACTION_HANDLERS=(_defineProperty(_ACTION_HANDLERS={},actions.SET_FORM_TOUCHED,_reducer2.default.singleTransferReducer("formTouched")),_defineProperty(_ACTION_HANDLERS,actions.SET_DETAIL_PARAMS,_reducer2.default.singleTransferReducer("detailParams")),_ACTION_HANDLERS),initialState={detailParams:void 0,formTouched:!1}}}]);
//# sourceMappingURL=10.73aad46865284633267f.bundle.js.map