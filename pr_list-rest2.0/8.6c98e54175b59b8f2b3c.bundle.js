(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{2012:function(module,__webpack_exports__,__webpack_require__){"use strict";var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(53),_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__),react_router_dom__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2010),styled_components__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(7),_linkStyle__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2025);function _templateObject(){var data=_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0___default()(["\n ","\n"]);return _templateObject=function(){return data},data}__webpack_exports__.a=Object(styled_components__WEBPACK_IMPORTED_MODULE_2__.default)(react_router_dom__WEBPACK_IMPORTED_MODULE_1__.a)(_templateObject(),_linkStyle__WEBPACK_IMPORTED_MODULE_3__.a)},2013:function(module,__webpack_exports__,__webpack_require__){"use strict";var taggedTemplateLiteral=__webpack_require__(53),taggedTemplateLiteral_default=__webpack_require__.n(taggedTemplateLiteral),react_router_dom=__webpack_require__(2010),styled_components_browser_esm=__webpack_require__(7),linkStyle=__webpack_require__(2025);function _templateObject(){var data=taggedTemplateLiteral_default()(["\n ","\n"]);return _templateObject=function(){return data},data}Object(styled_components_browser_esm.default)(react_router_dom.b)(_templateObject(),linkStyle.a);var StyledLink=__webpack_require__(2012);__webpack_require__.d(__webpack_exports__,"a",function(){return StyledLink.a})},2025:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return linkStyle});var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(53),_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__),tocco_ui__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6),styled_components__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(7),lodash_get__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(30),lodash_get__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_3__);function _templateObject(){var data=_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0___default()(["\n  ","\n\n  color: ",";\n  text-decoration: ",";\n\n  &:hover,\n  &:focus {\n    color: ",";\n    text-decoration: ",";\n  }\n\n  &:active {\n   text-decoration: ;\n    color: ",";\n    text-decoration: ",";\n  }\n  \n   &.active {\n   text-decoration: ;\n    color: ",";\n    text-decoration: ",";\n  }\n"]);return _templateObject=function(){return data},data}var linkStyle=Object(styled_components__WEBPACK_IMPORTED_MODULE_2__.css)(_templateObject(),Object(tocco_ui__WEBPACK_IMPORTED_MODULE_1__.z)(),function(props){return props.neutral?tocco_ui__WEBPACK_IMPORTED_MODULE_1__.F.color("text"):tocco_ui__WEBPACK_IMPORTED_MODULE_1__.F.color("primary")},function(props){return props.neutral?"underline":"none"},function(props){return props.neutral?Object(tocco_ui__WEBPACK_IMPORTED_MODULE_1__.E)(lodash_get__WEBPACK_IMPORTED_MODULE_3___default()(props.theme,"colors.text"),1):Object(tocco_ui__WEBPACK_IMPORTED_MODULE_1__.E)(lodash_get__WEBPACK_IMPORTED_MODULE_3___default()(props.theme,"colors.primary"),1)},function(props){return props.neutral?"none":"underline"},function(props){return props.neutral?Object(tocco_ui__WEBPACK_IMPORTED_MODULE_1__.E)(lodash_get__WEBPACK_IMPORTED_MODULE_3___default()(props.theme,"colors.text"),2):Object(tocco_ui__WEBPACK_IMPORTED_MODULE_1__.E)(lodash_get__WEBPACK_IMPORTED_MODULE_3___default()(props.theme,"colors.primary"),2)},function(props){return props.neutral?"none":"underline"},function(props){return props.neutral?Object(tocco_ui__WEBPACK_IMPORTED_MODULE_1__.E)(lodash_get__WEBPACK_IMPORTED_MODULE_3___default()(props.theme,"colors.text"),2):Object(tocco_ui__WEBPACK_IMPORTED_MODULE_1__.E)(lodash_get__WEBPACK_IMPORTED_MODULE_3___default()(props.theme,"colors.primary"),2)},function(props){return props.neutral?"none":"underline"})},2055:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"fonts/tocco-circle.svg"},2056:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"fonts/tocco-white-vertical.svg"},2057:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/favicon.1a09fa3f.ico"},2058:function(module){module.exports=JSON.parse('{"name":"tocco-admin","version":"0.1.13","description":"Alpha version of new tocco admin.","main":"dist/index.js","scripts":{"compile:prod":"cd ../../ && npm run compile:prod -- --package=admin","prepublish":"npm run compile:prod"},"devDependencies":{"path-to-regexp":"^3.0.0","react-burger-menu":"^2.6.11","react-helmet":"^5.2.1","tocco-app-extensions":">0.1.0","tocco-entity-detail":">0.1.0","tocco-entity-list":">0.1.0","tocco-login":">0.1.0","tocco-resource-scheduler":"^0.2.18","tocco-sso-login":"^0.2.1","tocco-test-util":">0.1.0","tocco-theme":">0.1.0","tocco-ui":">0.1.0","tocco-util":">0.1.0"}}')},2082:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var es=__webpack_require__(44),index_es=__webpack_require__(17),notifier=__webpack_require__(58),root=__webpack_require__(103),actions=__webpack_require__(199),react=__webpack_require__(0),react_default=__webpack_require__.n(react),src=(__webpack_require__(1055),__webpack_require__(6)),Helmet=__webpack_require__(2023),taggedTemplateLiteral=__webpack_require__(53),taggedTemplateLiteral_default=__webpack_require__.n(taggedTemplateLiteral),main=__webpack_require__(975),classCallCheck=(__webpack_require__(84),__webpack_require__(48)),classCallCheck_default=__webpack_require__.n(classCallCheck),createClass=__webpack_require__(52),createClass_default=__webpack_require__.n(createClass),possibleConstructorReturn=__webpack_require__(49),possibleConstructorReturn_default=__webpack_require__.n(possibleConstructorReturn),getPrototypeOf=__webpack_require__(50),getPrototypeOf_default=__webpack_require__.n(getPrototypeOf),inherits=__webpack_require__(51),inherits_default=__webpack_require__.n(inherits),reducer=__webpack_require__(34),appFactory=__webpack_require__(80),externalEvents=__webpack_require__(75),regenerator=(__webpack_require__(11),__webpack_require__(3)),regenerator_default=__webpack_require__.n(regenerator),rest=(__webpack_require__(64),__webpack_require__(54)),effects=__webpack_require__(1),defineProperty=(__webpack_require__(20),__webpack_require__(29),__webpack_require__(21),__webpack_require__(31),__webpack_require__(28),__webpack_require__(8),__webpack_require__(26),__webpack_require__(33),__webpack_require__(19),__webpack_require__(22),__webpack_require__(4)),defineProperty_default=__webpack_require__.n(defineProperty),reduce=__webpack_require__(108),reduce_default=__webpack_require__.n(reduce),get=__webpack_require__(30),get_default=__webpack_require__.n(get);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}var transformProviderEntities=function(response){return response.data.map(function(provider){return reduce_default()(provider.paths,function(result,value,key){return function _objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null==arguments[i]?{}:arguments[i],i%2?ownKeys(source,!0).forEach(function(key){defineProperty_default()(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))});return target}({},result,defineProperty_default()({},key,get_default()(value,"value.value",null)))},{})})},LOAD_PROVIDERS="root/LOAD_PROVIDERS",LOGIN_COMPLETED="root/LOGIN_COMPLETED",setProviders=function(providers){return{type:"root/SET_PROVIDERS",payload:{providers:providers}}},_marked=regenerator_default.a.mark(sagas_loadProviders),_marked2=regenerator_default.a.mark(sagas_loginCompleted),_marked3=regenerator_default.a.mark(mainSagas),entityName="Openid_provider",intlSelector=function(state){return state.intl};function sagas_loadProviders(){var intl,query,entities;return regenerator_default.a.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,Object(effects.e)(intlSelector);case 2:return intl=_context.sent,query={paths:["unique_id","label","button_primary_color","button_secondary_color","button_icon","button_label"],conditions:{locale:intl.locale,active:!0}},_context.next=6,Object(effects.b)(rest.a.fetchEntities,entityName,query,{method:"GET"},transformProviderEntities);case 6:return entities=_context.sent,_context.next=9,Object(effects.d)(setProviders(entities));case 9:case"end":return _context.stop()}},_marked)}function sagas_loginCompleted(_ref){var result;return regenerator_default.a.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return result=_ref.payload.result,_context2.next=3,Object(effects.d)(externalEvents.a.fireExternalEvent("loginCompleted",result));case 3:case"end":return _context2.stop()}},_marked2)}function mainSagas(){return regenerator_default.a.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,Object(effects.a)([Object(effects.c)(effects.i,LOAD_PROVIDERS,sagas_loadProviders),Object(effects.c)(effects.i,LOGIN_COMPLETED,sagas_loginCompleted)]);case 2:case"end":return _context3.stop()}},_marked3)}var ACTION_HANDLERS=defineProperty_default()({},"root/SET_PROVIDERS",reducer.a.singleTransferReducer("providers")),initialState={providers:[]};var modules={ssoLogin:function reducer_reducer(){var state=0<arguments.length&&void 0!==arguments[0]?arguments[0]:initialState,action=1<arguments.length?arguments[1]:void 0,handler=ACTION_HANDLERS[action.type];return handler?handler(state,action):state}},sagas=[mainSagas],toConsumableArray=(__webpack_require__(163),__webpack_require__(27),__webpack_require__(127),__webpack_require__(57)),toConsumableArray_default=__webpack_require__.n(toConsumableArray),openLoginWindow=function(loginEndpoint,loginCompleted,provider){var encodedWindowUrl=encodeURIComponent(window.location.href),url="".concat("https://master.tocco.ch").concat(loginEndpoint,"?provider=").concat(provider.unique_id,"&sourceUri=").concat(encodedWindowUrl),popUp=window.open(url,provider.label,function(){var height=0<arguments.length&&void 0!==arguments[0]?arguments[0]:200,width=1<arguments.length&&void 0!==arguments[1]?arguments[1]:200,features={height:height,width:width,left:window.screen.width/2-width/2,top:window.screen.height/2-height/2,resizable:1,scrollbars:1,status:1};return reduce_default()(features,function(result,value,key){return[].concat(toConsumableArray_default()(result),["".concat(key,"=").concat(value)])},[]).join(",")}(650,500));window.ssoPopUpCallback=function(result){popUp.close(),loginCompleted(result)}},styled_components_browser_esm=__webpack_require__(7),Button=__webpack_require__(25),utilStyles=__webpack_require__(2);function _templateObject(){var data=taggedTemplateLiteral_default()(["\n  && {\n    flex: 1;\n    justify-content: center;\n    border-radius: ",";\n    ","\n    \n    &:not(:first-child) {\n      margin-left: 1rem;\n    }\n    \n    span {\n      margin-left: .5em;\n      padding: 1rem 0;\n    }\n  }\n"]);return _templateObject=function(){return data},data}var StyledProviderButton=Object(styled_components_browser_esm.default)(Button.a)(_templateObject(),utilStyles.p.radii("large"),function(props){return Object(utilStyles.f)(Object(utilStyles.k)(props,{bg:props.primaryColor,fg:props.secondaryColor||"".concat(get_default()(props.theme,"colors.paper"),", ").concat(get_default()(props.theme,"colors.text"))}))}),ProviderButton=function(_ref){var provider=_ref.provider,loginCompleted=_ref.loginCompleted,loginEndpoint=_ref.loginEndpoint;return react_default.a.createElement(StyledProviderButton,{primaryColor:provider.button_primary_color,secondaryColor:provider.button_secondary_color,onClick:function clickHandler(){openLoginWindow(loginEndpoint,loginCompleted,provider)}},provider.button_icon&&react_default.a.createElement(src.f,{position:"prepend",icon:provider.button_icon}),react_default.a.createElement("span",null,provider.button_label))};ProviderButton.displayName="ProviderButton";var ProviderButton_ProviderButton=ProviderButton;ProviderButton.__docgenInfo={description:"",methods:[],displayName:"ProviderButton",props:{provider:{type:{name:"shape",value:{button_primary_color:{name:"string",required:!1},button_secondary_color:{name:"string",required:!1},button_icon:{name:"string",required:!1},button_label:{name:"string",required:!1}}},required:!1,description:""},loginEndpoint:{type:{name:"string"},required:!0,description:""},loginCompleted:{type:{name:"func"},required:!0,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/sso-login/src/components/ProviderButton/ProviderButton.js"]={name:"ProviderButton",docgenInfo:ProviderButton.__docgenInfo,path:"packages/sso-login/src/components/ProviderButton/ProviderButton.js"});var LoginBox_LoginBox=function(_React$Component){function LoginBox(props){var _this;return classCallCheck_default()(this,LoginBox),_this=possibleConstructorReturn_default()(this,getPrototypeOf_default()(LoginBox).call(this,props)),props.loadProviders(),_this}return inherits_default()(LoginBox,_React$Component),createClass_default()(LoginBox,[{key:"componentDidUpdate",value:function componentDidUpdate(prevProps){var _this2=this;if(this.props.autoLogin&&0===prevProps.providers.length&&0<this.props.providers.length){var autoLoginProvider=this.props.providers.find(function(entity){return entity.unique_id===_this2.props.autoLogin});autoLoginProvider&&openLoginWindow(this.props.loginEndpoint,this.props.loginCompleted,autoLoginProvider)}}},{key:"render",value:function render(){var _this3=this;return this.props.providers.map(function(provider,idx){return react_default.a.createElement(ProviderButton_ProviderButton,{key:idx,provider:provider,loginEndpoint:_this3.props.loginEndpoint,loginCompleted:_this3.props.loginCompleted})})}}]),LoginBox}(react_default.a.Component);LoginBox_LoginBox.displayName="LoginBox";var components_LoginBox_LoginBox=LoginBox_LoginBox;LoginBox_LoginBox.__docgenInfo={description:"",methods:[],displayName:"LoginBox",props:{loginEndpoint:{type:{name:"string"},required:!1,description:""},loginCompleted:{type:{name:"func"},required:!0,description:""},loadProviders:{type:{name:"func"},required:!0,description:""},providers:{type:{name:"array"},required:!1,description:""},autoLogin:{type:{name:"string"},required:!1,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/sso-login/src/components/LoginBox/LoginBox.js"]={name:"LoginBox",docgenInfo:LoginBox_LoginBox.__docgenInfo,path:"packages/sso-login/src/components/LoginBox/LoginBox.js"});var components_LoginBox=components_LoginBox_LoginBox,mapActionCreators={loadProviders:function(){return{type:LOAD_PROVIDERS}},loginCompleted:function(result){return{type:LOGIN_COMPLETED,payload:{result:result}}}},LoginBoxContainer=Object(es.connect)(function(state){return{providers:state.ssoLogin.providers,loginEndpoint:state.input.ssoLoginEndpoint,autoLogin:state.input.autoLogin}},mapActionCreators)(components_LoginBox),EXTERNAL_EVENTS=["loginCompleted"],main_ref=react_default.a.createElement(LoginBoxContainer,null),initApp=function(id,input,events,publicPath){var store=appFactory.a.createStore(modules,sagas,input,"sso-login");return externalEvents.a.addToStore(store,events),appFactory.a.createApp("sso-login",main_ref,store,{input:input,events:events,actions:[],publicPath:publicPath,textResourceModules:["component","common","sso-login"]})};appFactory.a.registerAppInRegistry("sso-login",initApp);var main_SsoLoginApp=function(_React$Component){function SsoLoginApp(props){var _this;classCallCheck_default()(this,SsoLoginApp),_this=possibleConstructorReturn_default()(this,getPrototypeOf_default()(SsoLoginApp).call(this,props));var events=EXTERNAL_EVENTS.reduce(function(events,event){return props[event]&&(events[event]=props[event]),events},{});return _this.app=initApp("id",props,events),_this}return inherits_default()(SsoLoginApp,_React$Component),createClass_default()(SsoLoginApp,[{key:"render",value:function render(){return this.app.component}}]),SsoLoginApp}(react_default.a.Component);main_SsoLoginApp.displayName="SsoLoginApp";var src_main=Object(root.hot)(main_SsoLoginApp);main_SsoLoginApp.__docgenInfo={description:"",methods:[],displayName:"SsoLoginApp",props:{ssoLoginEndpoint:{type:{name:"string"},required:!0,description:""},locale:{type:{name:"string"},required:!1,description:""},autoLogin:{type:{name:"bool"},required:!1,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/sso-login/src/main.js"]={name:"SsoLoginApp",docgenInfo:main_SsoLoginApp.__docgenInfo,path:"packages/sso-login/src/main.js"});var tocco_circle=__webpack_require__(2055),tocco_circle_default=__webpack_require__.n(tocco_circle),tocco_white_vertical=__webpack_require__(2056),tocco_white_vertical_default=__webpack_require__.n(tocco_white_vertical);function _templateObject3(){var data=taggedTemplateLiteral_default()(["\n  background-image: url(",");\n  background-repeat: no-repeat;\n  background-size: 11.5vw 27vw;\n  background-position: -30px 10px;\n  position: fixed;\n  top: 1.5em;\n  left: 0;\n  width: 11.5vw;\n  height: 28vw;\n"]);return _templateObject3=function(){return data},data}function _templateObject2(){var data=taggedTemplateLiteral_default()(["\n  max-width: 490px;\n  margin: 5% 5% 0 28%;\n"]);return _templateObject2=function(){return data},data}function Login_templateObject(){var data=taggedTemplateLiteral_default()(["\n  height: 100vh;\n  width: 100vw;\n  position: absolute;\n  background-image: url(",");\n  background-repeat: no-repeat;\n  background-size: 61vw;\n  background-position-y: -25vw;\n  background-position-x: -41vw;\n  \n  .tocco-sso-login {\n    display: flex;\n    justify-content: space-between;\n    margin-bottom: 1.8rem;\n  }\n"]);return Login_templateObject=function(){return data},data}var StyledLogin=styled_components_browser_esm.default.div(Login_templateObject(),tocco_circle_default.a),LoginWrapper=styled_components_browser_esm.default.div(_templateObject2()),Slogan=styled_components_browser_esm.default.div(_templateObject3(),tocco_white_vertical_default.a),Login_ref2=react_default.a.createElement(Slogan,null),Login_ref3=react_default.a.createElement(src.x.H1,null,"Login"),Login_ref4=react_default.a.createElement(src_main,{ssoLoginEndpoint:"/sso"}),Login=function(props){return react_default.a.createElement(StyledLogin,null,Login_ref2,react_default.a.createElement(LoginWrapper,null,Login_ref3,Login_ref4,react_default.a.createElement(main.a,{loginSuccess:function loginSuccess(_ref){var timeout=_ref.timeout;props.loginSuccessful(timeout)},showTitle:!1})))};Login.displayName="Login";var Login_Login=Login;Login.__docgenInfo={description:"",methods:[],displayName:"Login",props:{loginSuccessful:{type:{name:"func"},required:!0,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/components/Login/Login.js"]={name:"Login",docgenInfo:Login.__docgenInfo,path:"packages/admin/src/components/Login/Login.js"});var LoginContainer_mapActionCreators={loginSuccessful:actions.g},LoginContainer=Object(es.connect)(function(){return{}},LoginContainer_mapActionCreators)(Object(index_es.injectIntl)(Login_Login)),favicon=__webpack_require__(2057),favicon_default=__webpack_require__.n(favicon),viewPersistor=__webpack_require__(372),navigation_actions=__webpack_require__(146),slicedToArray=(__webpack_require__(69),__webpack_require__(162),__webpack_require__(140),__webpack_require__(217)),slicedToArray_default=__webpack_require__.n(slicedToArray),react_router=__webpack_require__(373),history_es=__webpack_require__(2072),helpers_extends=(__webpack_require__(79),__webpack_require__(105),__webpack_require__(109),__webpack_require__(47)),extends_default=__webpack_require__.n(helpers_extends);function MenuTree_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function MenuTree_objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null==arguments[i]?{}:arguments[i],i%2?MenuTree_ownKeys(source,!0).forEach(function(key){defineProperty_default()(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):MenuTree_ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))});return target}function MenuTree_templateObject(){var data=taggedTemplateLiteral_default()(["\n  && {\n   padding-left: ","px;\n }\n"]);return MenuTree_templateObject=function(){return data},data}var StyledMenuEntry=Object(styled_components_browser_esm.default)(src.w)(MenuTree_templateObject(),function(props){return 6*props.level}),MenuItem=function(_ref){var item=_ref.item,typeMapping=_ref.typeMapping;if(!item)return null;var mappedType=typeMapping[item.menuType];if(!mappedType)return null;var Component=mappedType.component;return react_default.a.createElement("div",null,react_default.a.createElement(StyledMenuEntry,item,react_default.a.createElement(Component,extends_default()({item:item},mappedType.props)),item.children&&item.children.map(function(child,idx){return react_default.a.createElement(MenuItem,{key:idx,item:child,typeMapping:typeMapping})})))};MenuItem.displayName="MenuItem";var prepareTree=function(item,searchFilter,typeMapping){var level=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,mappedType=typeMapping[item.menuType];if(!mappedType)return null;var matchingAttribute,children=(item.children||[]).map(function(child){return prepareTree(child,searchFilter,typeMapping,level+1)}).filter(function(c){return null!==c});return 0===children.length&&searchFilter&&!(matchingAttribute=mappedType.filterAttributes.find(function(filterAttribute){return item[filterAttribute].toLowerCase().includes(searchFilter.toLowerCase())}))?null:MenuTree_objectSpread({},item,{level:level,children:children,matchingAttribute:matchingAttribute})},MenuTree=function(_ref2){var items=_ref2.items,searchFilter=_ref2.searchFilter,typeMapping=_ref2.typeMapping;return items&&0!==items.length?react_default.a.createElement("div",null,items.map(function(item,idx){return react_default.a.createElement(MenuItem,{key:idx,item:prepareTree(item,searchFilter,typeMapping),typeMapping:typeMapping})})):null};MenuTree.displayName="MenuTree";var MenuTree_MenuTree=MenuTree;MenuTree.__docgenInfo={description:"",methods:[],displayName:"MenuTree",props:{items:{type:{name:"array"},required:!1,description:""},searchFilter:{type:{name:"string"},required:!1,description:""},typeMapping:{type:{name:"objectOf",value:{name:"shape",value:{component:{name:"func",required:!1},filterAttribute:{name:"arrayOf",value:{name:"string"},required:!1}}}},required:!1,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/components/MenuTree/MenuTree.js"]={name:"MenuTree",docgenInfo:MenuTree.__docgenInfo,path:"packages/admin/src/components/MenuTree/MenuTree.js"});var components_MenuTree=MenuTree_MenuTree,react_router_dom=__webpack_require__(2010);function _templateObject6(){var data=taggedTemplateLiteral_default()(["\n  display: flex;\n  justify-content: space-evenly;\n  align-items: center; \n  margin-bottom: 10px;\n"]);return _templateObject6=function(){return data},data}function _templateObject5(){var data=taggedTemplateLiteral_default()(["\n  color: #c5cbd4;\n  text-decoration: none;\n  \n  &:hover {\n      color: #555;\n    }\n  \n  &:focus {\n     text-decoration: underline;\n      outline: none;\n    }\n  \n  &.active {\n      text-decoration: underline;\n    }\n"]);return _templateObject5=function(){return data},data}function _templateObject4(){var data=taggedTemplateLiteral_default()(["\n   color: #c5cbd4;\n   font-weight: bold;\n"]);return _templateObject4=function(){return data},data}function StyledComponents_templateObject3(){var data=taggedTemplateLiteral_default()(["\n  height: 100%;\n  overflow: auto;\n  ::-webkit-scrollbar {\n      width: 5px;\n  }\n   \n  ::-webkit-scrollbar-thumb {\n    background-color: #878787;\n  }\n  \n  scrollbar-color: #878787 #253653; // Firefox workaround\n  scrollbar-width: thin;\n"]);return StyledComponents_templateObject3=function(){return data},data}function StyledComponents_templateObject2(){var data=taggedTemplateLiteral_default()(["\n  height: 100%;\n"]);return StyledComponents_templateObject2=function(){return data},data}function StyledComponents_templateObject(){var data=taggedTemplateLiteral_default()(["\n  border-radius: 20px;\n  border: 0px;\n  width: 90%;\n  font-size: 1.2rem;\n  padding: 4px 7px;\n  :focus {\n      outline: none;\n  }\n  margin-bottom: 5px;\n"]);return StyledComponents_templateObject=function(){return data},data}var StyledSearch=styled_components_browser_esm.default.input(StyledComponents_templateObject()),StyledNav=styled_components_browser_esm.default.nav(StyledComponents_templateObject2()),StyledMewnuWrapper=styled_components_browser_esm.default.div(StyledComponents_templateObject3()),StyledComponents_StyledMenuEntry=styled_components_browser_esm.default.span(_templateObject4()),StyledMenuLink=Object(styled_components_browser_esm.default)(react_router_dom.a)(_templateObject5()),StyledTabsContainer=styled_components_browser_esm.default.div(_templateObject6()),MenuMenuEntry=function(_ref){var item=_ref.item;return react_default.a.createElement(StyledComponents_StyledMenuEntry,null,item.label)};MenuMenuEntry.displayName="MenuMenuEntry";var EntityExplorerMenuEntry=function(_ref2){var onClick=_ref2.onClick,item=_ref2.item,entityNameDisplay="entity"===item.matchingAttribute?react_default.a.createElement(react_default.a.Fragment,null," (",item.entity,")"):"";return react_default.a.createElement(StyledMenuLink,{onClick:onClick,to:"/e/".concat(item.entity)},item.label,entityNameDisplay)};EntityExplorerMenuEntry.displayName="EntityExplorerMenuEntry";var ActionMenuEntry=function(_ref3){var onClick=_ref3.onClick,item=_ref3.item;return react_default.a.createElement(StyledMenuLink,{onClick:onClick,to:"/a/".concat(item.name)},item.label)};ActionMenuEntry.displayName="ActionMenuEntry";var tabs_MODULES="modules",tabs_SETTINGS="settings",Navigation=function(_ref4){var modulesMenuTree=_ref4.modulesMenuTree,settingsMenuTree=_ref4.settingsMenuTree,menuOpen=_ref4.menuOpen,onClick=_ref4.onClick,activeMenuTab=_ref4.activeMenuTab,setActiveMenuTab=_ref4.setActiveMenuTab,inputEl=Object(react.useRef)(null),_useState=Object(react.useState)(""),_useState2=slicedToArray_default()(_useState,2),filter=_useState2[0],setFilter=_useState2[1],map={menu:{component:MenuMenuEntry,filterAttributes:[]},"entity-explorer":{component:EntityExplorerMenuEntry,props:{onClick:onClick},filterAttributes:["label","entity"]},action:{component:ActionMenuEntry,props:{onClick:onClick},filterAttributes:["label"]}};return Object(react.useEffect)(function(){menuOpen&&(inputEl.current.select(),inputEl.current.focus())},[menuOpen]),react_default.a.createElement(StyledNav,null,react_default.a.createElement(StyledTabsContainer,null,react_default.a.createElement(src.a,{title:"Modules",ink:activeMenuTab===tabs_MODULES?"primary":"base",onClick:function(){return setActiveMenuTab(tabs_MODULES)},icon:"cubes"}),react_default.a.createElement(src.a,{title:"Settings",ink:activeMenuTab===tabs_SETTINGS?"primary":"base",icon:"cogs",onClick:function(){return setActiveMenuTab(tabs_SETTINGS)}})),react_default.a.createElement(StyledSearch,{placeholder:"search",ref:inputEl,onChange:function onChange(e){setFilter(e.target.value)}}),activeMenuTab===tabs_MODULES&&react_default.a.createElement(StyledMewnuWrapper,null,react_default.a.createElement(components_MenuTree,{items:modulesMenuTree,searchFilter:filter,typeMapping:map})),activeMenuTab===tabs_SETTINGS&&react_default.a.createElement(StyledMewnuWrapper,null,react_default.a.createElement(components_MenuTree,{items:settingsMenuTree,searchFilter:filter,typeMapping:map})))};Navigation.displayName="Navigation";var Navigation_Navigation=Navigation;Navigation.__docgenInfo={description:"",methods:[],displayName:"Navigation",props:{activeMenuTab:{type:{name:"string"},required:!0,description:""},settingsMenuTree:{type:{name:"array"},required:!1,description:""},modulesMenuTree:{type:{name:"array"},required:!1,description:""},onClick:{type:{name:"func"},required:!1,description:""},setActiveMenuTab:{type:{name:"func"},required:!1,description:""},menuOpen:{type:{name:"bool"},required:!1,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/components/Navigation/Navigation.js"]={name:"Navigation",docgenInfo:Navigation.__docgenInfo,path:"packages/admin/src/components/Navigation/Navigation.js"});var NavigationContainer_mapActionCreators={setActiveMenuTab:navigation_actions.h},components_Navigation=Object(es.connect)(function(state){return{settingsMenuTree:state.navigation.settingsMenuTree,modulesMenuTree:state.navigation.modulesMenuTree,menuOpen:state.navigation.menuOpen,activeMenuTab:state.navigation.activeMenuTab}},NavigationContainer_mapActionCreators)(Object(index_es.injectIntl)(Navigation_Navigation));function Dashboard_templateObject(){var data=taggedTemplateLiteral_default()(["\n  display: flex;\n  justify-content: center;\n  \n  div { \n      padding:  15px;\n  }\n"]);return Dashboard_templateObject=function(){return data},data}var StyledDashBoard=styled_components_browser_esm.default.div(Dashboard_templateObject()),Dashboard=function(){var packageJson=__webpack_require__(2058);return react_default.a.createElement(StyledDashBoard,null,react_default.a.createElement("div",null,react_default.a.createElement(src.f,{style:{fontSize:"80px"},icon:"tocco"})),react_default.a.createElement(src.x.H1,null,"Welcome to beta v",packageJson.version))};Dashboard.displayName="Dashboard";var Dashboard_Dashboard=Dashboard;Dashboard.__docgenInfo={description:"",methods:[],displayName:"Dashboard",props:{match:{type:{name:"object"},required:!1,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/routes/dashboard/components/Dashboard/Dashboard.js"]={name:"Dashboard",docgenInfo:Dashboard.__docgenInfo,path:"packages/admin/src/routes/dashboard/components/Dashboard/Dashboard.js"});var components_Dashboard=Dashboard_Dashboard,route=(__webpack_require__(184),__webpack_require__(36),__webpack_require__(96),__webpack_require__(302)),js=__webpack_require__(304),omit=__webpack_require__(224),omit_default=__webpack_require__.n(omit),omitBy=__webpack_require__(2059),omitBy_default=__webpack_require__.n(omitBy),ignoredAttributes=["location.key","location.search"];var routes_entities=Object(react.memo)(function(props){return react_default.a.createElement(es.ReactReduxContext.Consumer,null,function(_ref){var store=_ref.store,Component=route.a.loadRoute(store,{},function(){return Promise.all([__webpack_require__.e(0),__webpack_require__.e(9)]).then(__webpack_require__.bind(null,2081))});return react_default.a.createElement(Component,props)})},function areEqual(prevProps,nextProps){var diff=js.a.difference(prevProps,nextProps),clean=omitBy_default()(omit_default()(diff,ignoredAttributes),function(v){return 0===Object.keys(v).length});return 0===Object.entries(clean).length}),Settings_ref=react_default.a.createElement(src.x.H2,null,"Settings"),Settings=function(){return Settings_ref};Settings.displayName="Settings";var Settings_Settings=Settings;Settings.__docgenInfo={description:"",methods:[],displayName:"Settings"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/routes/settings/components/Settings/Settings.js"]={name:"Settings",docgenInfo:Settings.__docgenInfo,path:"packages/admin/src/routes/settings/components/Settings/Settings.js"});var components_Settings=Settings_Settings,ResourceSchedulerComponent=Object(react.lazy)(function(){return __webpack_require__.e(11).then(__webpack_require__.bind(null,2079))}),LazyResourceScheduler_ref=react_default.a.createElement(react_default.a.Fragment,null),renderLoader=function(){return LazyResourceScheduler_ref};renderLoader.displayName="renderLoader";var ResourceScheduler=function(props){return react_default.a.createElement(react.Suspense,{fallback:renderLoader()},react_default.a.createElement(ResourceSchedulerComponent,props))},Actions_ref2=react_default.a.createElement(src.x.H1,null,"404"),Actions=function(_ref){var match=_ref.match;return react_default.a.createElement(react_router.e,null,react_default.a.createElement(react_router.c,{path:"".concat(match.path,"/resourcescheduler"),component:ResourceScheduler}),react_default.a.createElement(react_router.c,{component:function component(){return Actions_ref2}}))};Actions.displayName="Actions";var Actions_Actions=Actions;Actions.__docgenInfo={description:"",methods:[],displayName:"Actions",props:{match:{type:{name:"object"},required:!0,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/routes/actions/components/Actions/Actions.js"]={name:"Actions",docgenInfo:Actions.__docgenInfo,path:"packages/admin/src/routes/actions/components/Actions/Actions.js"});var components_Actions=Actions_Actions,StyledLink=__webpack_require__(2013),slide=__webpack_require__(2061),slide_default=__webpack_require__.n(slide);function StyledComponents_templateObject6(){var data=taggedTemplateLiteral_default()(["\n  flex: 1;\n  display: flex;\n  justify-content: flex-end;\n  padding-top: 7px;\n"]);return StyledComponents_templateObject6=function(){return data},data}function StyledComponents_templateObject5(){var data=taggedTemplateLiteral_default()(["\n  grid-area: menu;\n"]);return StyledComponents_templateObject5=function(){return data},data}function StyledComponents_templateObject4(){var data=taggedTemplateLiteral_default()(["\n  grid-area: header;\n  display: flex;\n  height: 40px;\n  background: #9E2124;\n  padding-right: 10px;\n  padding-left: 40px;\n"]);return StyledComponents_templateObject4=function(){return data},data}function Admin_StyledComponents_templateObject3(){var data=taggedTemplateLiteral_default()(["\n  grid-area: content;\n  background-color: #edf1f5;\n  overflow: hidden;\n"]);return Admin_StyledComponents_templateObject3=function(){return data},data}function Admin_StyledComponents_templateObject2(){var data=taggedTemplateLiteral_default()(['\n  display: grid;\n  grid-template-rows: auto  1fr;\n  grid-template-columns: auto 1fr;\n  grid-template-areas:\n         "header header"\n         "menu content";\n  background-color: #fff;\n  color: #444;\n  height: 100vh;\n']);return Admin_StyledComponents_templateObject2=function(){return data},data}function Admin_StyledComponents_templateObject(){var data=taggedTemplateLiteral_default()(["\n && {\n   color: white;\n   padding-left: 8px;\n   padding-top: 5px;\n   font-size: 2.5rem;\n }\n"]);return Admin_StyledComponents_templateObject=function(){return data},data}var StyledTitle=Object(styled_components_browser_esm.default)(src.s)(Admin_StyledComponents_templateObject()),StyledWrapper=styled_components_browser_esm.default.div(Admin_StyledComponents_templateObject2()),StyledContent=styled_components_browser_esm.default.div(Admin_StyledComponents_templateObject3()),StyledHeader=styled_components_browser_esm.default.div(StyledComponents_templateObject4()),StyledMenu=Object(styled_components_browser_esm.default)(slide_default.a)(StyledComponents_templateObject5()),StyledConfig=styled_components_browser_esm.default.div(StyledComponents_templateObject6()),burgerMenuStyles={bmBurgerButton:{position:"fixed",width:"16px",height:"16px",left:"16px",top:"13px",color:"white"},bmBurgerBars:{background:"#373a47"},bmBurgerBarsHover:{background:"#a90000"},bmCrossButton:{height:"24px",width:"24px"},bmCross:{background:"#bdc3c7"},bmMenuWrap:{position:"fixed",height:"100%"},bmMenu:{background:"#253653",padding:".5em 1.5em .5em",fontSize:"1.15em"},bmMorphShape:{fill:"#373a47"},bmItemList:{color:"#b8b7ad",padding:"0.8em",height:"90%"},bmItem:{display:"inline-block"},bmOverlay:{background:"rgba(0, 0, 0, 0.3)"}};function Admin_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}var Admin_ref2=react_default.a.createElement(index_es.FormattedMessage,{id:"client.common.ok"}),Admin_ref3=react_default.a.createElement(index_es.FormattedMessage,{id:"client.common.cancel"}),Admin_ref4=react_default.a.createElement("div",null,react_default.a.createElement(StyledLink.a,{to:"/"},react_default.a.createElement(StyledTitle,null,"Tocco"))),_ref5=react_default.a.createElement(src.f,{icon:"bars"}),_ref7=react_default.a.createElement(react_router.c,{exact:!0,path:"/dashboard",component:components_Dashboard}),_ref8=react_default.a.createElement(react_router.c,{path:"/e",component:routes_entities}),_ref9=react_default.a.createElement(react_router.c,{path:"/s",component:components_Settings}),_ref10=react_default.a.createElement(react_router.c,{path:"/a",component:components_Actions}),Admin=function(_ref){var initializeNavigation=_ref.initializeNavigation,setMenuOpen=_ref.setMenuOpen,menuOpen=_ref.menuOpen,baseRoute=_ref.baseRoute,confirm=_ref.confirm,doLogout=_ref.doLogout,clearPersistedViews=_ref.clearPersistedViews,_useState=Object(react.useState)(null),_useState2=slicedToArray_default()(_useState,2),history=_useState2[0],setHistory=_useState2[1];Object(react.useEffect)(function(){initializeHistory(),initializeNavigation()},[]);var initializeHistory=function(){var browserHistory=Object(history_es.a)(function Admin_objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null==arguments[i]?{}:arguments[i],i%2?Admin_ownKeys(source,!0).forEach(function(key){defineProperty_default()(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):Admin_ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))});return target}({},baseRoute&&{basename:baseRoute},{getUserConfirmation:function getUserConfirmation(message,callback){confirm("",message,Admin_ref2,Admin_ref3,function(){return callback(!0)},function(){return callback(!1)})}}));setHistory(browserHistory)};return react_default.a.createElement(src.j,{required:[null!==history]},react_default.a.createElement(react_router.d,{history:history||{}},react_default.a.createElement(StyledWrapper,{id:"outer-container"},react_default.a.createElement(StyledHeader,null,Admin_ref4,react_default.a.createElement(StyledConfig,null,react_default.a.createElement("div",null,react_default.a.createElement(src.a,{look:"raised",icon:"sign-out-alt",label:"Logout",onClick:doLogout})))),react_default.a.createElement(StyledMenu,{isOpen:menuOpen,onStateChange:function isMenuOpen(state){state.isOpen!==menuOpen&&setMenuOpen(state.isOpen)},customBurgerIcon:_ref5,styles:burgerMenuStyles,pageWrapId:"page-wrap",outerContainerId:"outer-container"},react_default.a.createElement(components_Navigation,{onClick:function onClick(){setMenuOpen(!1),clearPersistedViews()}})),react_default.a.createElement(StyledContent,{id:"page-wrap"},react_default.a.createElement(react_router.e,null,react_default.a.createElement(react_router.c,{exact:!0,path:"/",render:function render(_ref6){var match=_ref6.match;return react_default.a.createElement(react_router.b,{to:"".concat(match.url.replace(/\/$/,""),"/dashboard")})}}),_ref7,_ref8,_ref9,_ref10,react_default.a.createElement(react_router.c,{render:function render(_ref11){var match=_ref11.match;return react_default.a.createElement(react_router.b,{to:"".concat(match.url.replace(/\/$/,""),"/dashboard")})}}))))))};Admin.displayName="Admin";var Admin_Admin=Admin;Admin.__docgenInfo={description:"",methods:[],displayName:"Admin",props:{baseRoute:{type:{name:"string"},required:!1,description:""},loggedIn:{type:{name:"bool"},required:!1,description:""},menuOpen:{type:{name:"bool"},required:!1,description:""},doLogout:{type:{name:"func"},required:!0,description:""},clearPersistedViews:{type:{name:"func"},required:!0,description:""},setMenuOpen:{type:{name:"func"},required:!0,description:""},confirm:{type:{name:"func"},required:!0,description:""},initializeNavigation:{type:{name:"func"},required:!0,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/components/Admin/Admin.js"]={name:"Admin",docgenInfo:Admin.__docgenInfo,path:"packages/admin/src/components/Admin/Admin.js"});var AdminContainer_mapActionCreators={doLogout:actions.e,confirm:notifier.a.confirm,initializeNavigation:navigation_actions.g,setMenuOpen:navigation_actions.i,clearPersistedViews:viewPersistor.a.clearPersistedViews},AdminContainer=Object(es.connect)(function(state){return{baseRoute:state.input.baseRoute,menuOpen:state.navigation.menuOpen}},AdminContainer_mapActionCreators)(Object(index_es.injectIntl)(Admin_Admin)),LoginGuard_ref2=react_default.a.createElement(Helmet.Helmet,{defer:!1},react_default.a.createElement("title",null,"Tocco"),react_default.a.createElement("link",{rel:"icon",type:"image/png",href:favicon_default.a,sizes:"16x16"})),LoginGuard_ref3=react_default.a.createElement(notifier.a.Notifier,null),LoginGuard_ref4=react_default.a.createElement(LoginContainer,null),LoginGuard_ref5=react_default.a.createElement(AdminContainer,null),LoginGuard=function(_ref){var doSessionCheck=_ref.doSessionCheck,loggedIn=_ref.loggedIn;return Object(react.useEffect)(function(){doSessionCheck()},[]),react_default.a.createElement("div",null,LoginGuard_ref2,react_default.a.createElement(src.j,{required:[void 0!==loggedIn],loadingText:"Logging in..."},react_default.a.createElement("div",null,LoginGuard_ref3,loggedIn?LoginGuard_ref5:LoginGuard_ref4)))};LoginGuard.displayName="LoginGuard";var LoginGuard_LoginGuard=LoginGuard;LoginGuard.__docgenInfo={description:"",methods:[],displayName:"LoginGuard",props:{loggedIn:{type:{name:"bool"},required:!1,description:""},doSessionCheck:{type:{name:"func"},required:!0,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/components/LoginGuard/LoginGuard.js"]={name:"LoginGuard",docgenInfo:LoginGuard.__docgenInfo,path:"packages/admin/src/components/LoginGuard/LoginGuard.js"});var LoginGuardContainer_mapActionCreators={doSessionCheck:actions.f,confirm:notifier.a.confirm},LoginGuardContainer=Object(root.hot)(Object(es.connect)(function(state){return{loggedIn:state.session.loggedIn}},LoginGuardContainer_mapActionCreators)(Object(index_es.injectIntl)(LoginGuard_LoginGuard)));__webpack_require__.d(__webpack_exports__,"default",function(){return LoginGuardContainer})}}]);
//# sourceMappingURL=8.6c98e54175b59b8f2b3c.bundle.js.map