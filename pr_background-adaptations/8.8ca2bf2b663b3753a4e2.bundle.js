(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{2428:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"fonts/tocco-circle.svg"},2455:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"fonts/tocco_white.svg"},2456:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/favicon.1a09fa3f.ico"},2457:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"fonts/tocco_red.svg"},2458:function(module){module.exports=JSON.parse('{"name":"tocco-admin","version":"0.2.3","description":"Alpha version of new tocco admin.","main":"dist/index.js","scripts":{"compile:prod":"cd ../../ && npm run compile:prod -- --package=admin","prepublish":"npm run compile:prod"},"devDependencies":{"path-to-regexp":"^3.0.0","react-burger-menu":"^2.6.11","react-helmet":"^5.2.1","tocco-app-extensions":">0.1.0","tocco-entity-detail":">0.1.0","tocco-entity-list":">0.1.0","tocco-login":">0.1.0","tocco-resource-scheduler":"^0.2.18","tocco-sso-login":"^0.2.1","tocco-test-util":">0.1.0","tocco-theme":">0.1.0","tocco-ui":">0.1.0","tocco-util":">0.1.0"}}')},2480:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var es=__webpack_require__(38),index_es=__webpack_require__(14),notifier=__webpack_require__(56),root=__webpack_require__(101),actions=__webpack_require__(105),react=__webpack_require__(0),react_default=__webpack_require__.n(react),src=(__webpack_require__(1080),__webpack_require__(6)),Helmet=__webpack_require__(2426),slicedToArray=__webpack_require__(166),slicedToArray_default=__webpack_require__.n(slicedToArray),taggedTemplateLiteral=__webpack_require__(36),taggedTemplateLiteral_default=__webpack_require__.n(taggedTemplateLiteral),main=__webpack_require__(998),classCallCheck=(__webpack_require__(85),__webpack_require__(48)),classCallCheck_default=__webpack_require__.n(classCallCheck),createClass=__webpack_require__(52),createClass_default=__webpack_require__.n(createClass),possibleConstructorReturn=__webpack_require__(49),possibleConstructorReturn_default=__webpack_require__.n(possibleConstructorReturn),getPrototypeOf=__webpack_require__(50),getPrototypeOf_default=__webpack_require__.n(getPrototypeOf),inherits=__webpack_require__(51),inherits_default=__webpack_require__.n(inherits),reducer=__webpack_require__(32),appFactory=__webpack_require__(79),externalEvents=__webpack_require__(73),regenerator=(__webpack_require__(10),__webpack_require__(2)),regenerator_default=__webpack_require__.n(regenerator),rest=(__webpack_require__(59),__webpack_require__(40)),redux_saga_effects_npm_proxy_esm=__webpack_require__(1),defineProperty=(__webpack_require__(16),__webpack_require__(29),__webpack_require__(21),__webpack_require__(30),__webpack_require__(28),__webpack_require__(24),__webpack_require__(33),__webpack_require__(34),__webpack_require__(18),__webpack_require__(22),__webpack_require__(4)),defineProperty_default=__webpack_require__.n(defineProperty),reduce=__webpack_require__(108),reduce_default=__webpack_require__.n(reduce);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}var transformProviderEntities=function(response){return response.data.map((function(provider){return reduce_default()(provider.paths,(function(result,value,key){return function _objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null!=arguments[i]?arguments[i]:{},i%2?ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}({},result,defineProperty_default()({},key,value.value))}),{})}))},_marked=regenerator_default.a.mark(sagas_loadProviders),_marked2=regenerator_default.a.mark(sagas_loginCompleted),_marked3=regenerator_default.a.mark(mainSagas),intlSelector=function(state){return state.intl};function sagas_loadProviders(){var intl,query,entities;return regenerator_default.a.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,Object(redux_saga_effects_npm_proxy_esm.f)(intlSelector);case 2:return intl=_context.sent,query={paths:["unique_id","label","button_primary_color","button_secondary_color","button_icon","button_label"],conditions:{locale:intl.locale,active:!0}},_context.next=6,Object(redux_saga_effects_npm_proxy_esm.b)(rest.a.fetchEntities,"Openid_provider",query,{method:"GET"},transformProviderEntities);case 6:return entities=_context.sent,_context.next=9,Object(redux_saga_effects_npm_proxy_esm.e)({type:"root/SET_PROVIDERS",payload:{providers:entities}});case 9:case"end":return _context.stop()}}),_marked)}function sagas_loginCompleted(_ref){var result;return regenerator_default.a.wrap((function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return result=_ref.payload.result,_context2.next=3,Object(redux_saga_effects_npm_proxy_esm.e)(externalEvents.a.fireExternalEvent("loginCompleted",result));case 3:case"end":return _context2.stop()}}),_marked2)}function mainSagas(){return regenerator_default.a.wrap((function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,Object(redux_saga_effects_npm_proxy_esm.a)([Object(redux_saga_effects_npm_proxy_esm.j)("root/LOAD_PROVIDERS",sagas_loadProviders),Object(redux_saga_effects_npm_proxy_esm.j)("root/LOGIN_COMPLETED",sagas_loginCompleted)]);case 2:case"end":return _context3.stop()}}),_marked3)}var ACTION_HANDLERS=defineProperty_default()({},"root/SET_PROVIDERS",reducer.a.singleTransferReducer("providers")),initialState={providers:[]};function reducer_reducer(){var state=0<arguments.length&&void 0!==arguments[0]?arguments[0]:initialState,action=1<arguments.length?arguments[1]:void 0,handler=ACTION_HANDLERS[action.type];return handler?handler(state,action):state}reducer_reducer.__docgenInfo={description:"",methods:[],displayName:"reducer"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/sso-login/src/modules/reducer.js"]={name:"reducer",docgenInfo:reducer_reducer.__docgenInfo,path:"packages/sso-login/src/modules/reducer.js"});var modules={ssoLogin:reducer_reducer},sagas=[mainSagas],styled_components_browser_esm=(__webpack_require__(171),__webpack_require__(7)),toConsumableArray=(__webpack_require__(27),__webpack_require__(134),__webpack_require__(53)),toConsumableArray_default=__webpack_require__.n(toConsumableArray),openLoginWindow=function(loginEndpoint,loginCompleted,provider){var encodedWindowUrl=encodeURIComponent(window.location.href),url="".concat("https://master.tocco.ch").concat(loginEndpoint,"?provider=").concat(provider.unique_id,"&sourceUri=").concat(encodedWindowUrl),popUp=window.open(url,provider.label,function(){var height=0<arguments.length&&void 0!==arguments[0]?arguments[0]:200,width=1<arguments.length&&void 0!==arguments[1]?arguments[1]:200,features={height:height,width:width,left:window.screen.width/2-width/2,top:window.screen.height/2-height/2,resizable:1,scrollbars:1,status:1};return reduce_default()(features,(function(result,value,key){return[].concat(toConsumableArray_default()(result),["".concat(key,"=").concat(value)])}),[]).join(",")}(650,500));window.ssoPopUpCallback=function(result){popUp.close(),loginCompleted(result)}},get=__webpack_require__(26),get_default=__webpack_require__.n(get),Button=__webpack_require__(25),utilStyles=__webpack_require__(3);function _templateObject(){var data=taggedTemplateLiteral_default()(["\n  && {\n    margin-right: 0;\n    flex: 1;\n    font-size: ",";\n    justify-content: center;\n    border-radius: ",";\n    ","\n    span {\n      margin-left: .5em;\n      padding: .9rem 0;\n    }\n  }\n"]);return _templateObject=function(){return data},data}var StyledProviderButton=Object(styled_components_browser_esm.default)(Button.a)(_templateObject(),utilStyles.n.font(1.3),utilStyles.p.radii("large"),(function(props){return Object(utilStyles.e)(Object(utilStyles.j)(props,{bg:props.primaryColor,fg:props.secondaryColor||"".concat(get_default()(props.theme,"colors.paper"),", ").concat(get_default()(props.theme,"colors.text"))}))})),ProviderButton=function(_ref){var provider=_ref.provider,loginCompleted=_ref.loginCompleted,loginEndpoint=_ref.loginEndpoint;return react_default.a.createElement(StyledProviderButton,{primaryColor:provider.button_primary_color,secondaryColor:provider.button_secondary_color,onClick:function clickHandler(){openLoginWindow(loginEndpoint,loginCompleted,provider)}},provider.button_icon&&react_default.a.createElement(src.g,{position:"prepend",icon:provider.button_icon}),react_default.a.createElement("span",null,provider.button_label))};ProviderButton.displayName="ProviderButton",ProviderButton.__docgenInfo={description:"",methods:[],displayName:"ProviderButton",props:{provider:{type:{name:"shape",value:{button_primary_color:{name:"string",required:!1},button_secondary_color:{name:"string",required:!1},button_icon:{name:"string",required:!1},button_label:{name:"string",required:!1}}},required:!1,description:""},loginEndpoint:{type:{name:"string"},required:!0,description:""},loginCompleted:{type:{name:"func"},required:!0,description:""}}};var ProviderButton_ProviderButton=ProviderButton;function LoginBox_templateObject(){var data=taggedTemplateLiteral_default()(["\n  width: 100%;\n  display: grid;\n  grid-gap: 1rem;\n  grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));\n"]);return LoginBox_templateObject=function(){return data},data}"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/sso-login/src/components/ProviderButton/ProviderButton.js"]={name:"ProviderButton",docgenInfo:ProviderButton.__docgenInfo,path:"packages/sso-login/src/components/ProviderButton/ProviderButton.js"});var StyledButtonContainer=styled_components_browser_esm.default.div(LoginBox_templateObject()),LoginBox_LoginBox=function(_React$Component){function LoginBox(props){var _this;return classCallCheck_default()(this,LoginBox),_this=possibleConstructorReturn_default()(this,getPrototypeOf_default()(LoginBox).call(this,props)),props.loadProviders(),_this}return inherits_default()(LoginBox,_React$Component),createClass_default()(LoginBox,[{key:"componentDidUpdate",value:function componentDidUpdate(prevProps){var _this2=this;if(this.props.autoLogin&&0===prevProps.providers.length&&0<this.props.providers.length){var autoLoginProvider=this.props.providers.find((function(entity){return entity.unique_id===_this2.props.autoLogin}));autoLoginProvider&&openLoginWindow(this.props.loginEndpoint,this.props.loginCompleted,autoLoginProvider)}}},{key:"render",value:function render(){var _this3=this;return react_default.a.createElement(StyledButtonContainer,null,this.props.providers.map((function(provider,idx){return react_default.a.createElement(ProviderButton_ProviderButton,{key:idx,provider:provider,loginEndpoint:_this3.props.loginEndpoint,loginCompleted:_this3.props.loginCompleted})})))}}]),LoginBox}(react_default.a.Component);LoginBox_LoginBox.displayName="LoginBox",LoginBox_LoginBox.__docgenInfo={description:"",methods:[],displayName:"LoginBox",props:{loginEndpoint:{type:{name:"string"},required:!1,description:""},loginCompleted:{type:{name:"func"},required:!0,description:""},loadProviders:{type:{name:"func"},required:!0,description:""},providers:{type:{name:"array"},required:!1,description:""},autoLogin:{type:{name:"string"},required:!1,description:""}}};var components_LoginBox_LoginBox=LoginBox_LoginBox;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/sso-login/src/components/LoginBox/LoginBox.js"]={name:"LoginBox",docgenInfo:LoginBox_LoginBox.__docgenInfo,path:"packages/sso-login/src/components/LoginBox/LoginBox.js"});var components_LoginBox=components_LoginBox_LoginBox,mapActionCreators={loadProviders:function(){return{type:"root/LOAD_PROVIDERS"}},loginCompleted:function(result){return{type:"root/LOGIN_COMPLETED",payload:{result:result}}}},LoginBoxContainer=Object(es.connect)((function(state){return{providers:state.ssoLogin.providers,loginEndpoint:state.input.ssoLoginEndpoint,autoLogin:state.input.autoLogin}}),mapActionCreators)(components_LoginBox),EXTERNAL_EVENTS=["loginCompleted"],main_ref=react_default.a.createElement(LoginBoxContainer,null),initApp=function(id,input,events,publicPath){var store=appFactory.a.createStore(modules,sagas,input,"sso-login");return externalEvents.a.addToStore(store,events),appFactory.a.createApp("sso-login",main_ref,store,{input:input,events:events,actions:[],publicPath:publicPath,textResourceModules:["component","common","sso-login"]})};appFactory.a.registerAppInRegistry("sso-login",initApp);var main_SsoLoginApp=function(_React$Component){function SsoLoginApp(props){var _this;classCallCheck_default()(this,SsoLoginApp),_this=possibleConstructorReturn_default()(this,getPrototypeOf_default()(SsoLoginApp).call(this,props));var events=EXTERNAL_EVENTS.reduce((function(events,event){return props[event]&&(events[event]=props[event]),events}),{});return _this.app=initApp(0,props,events),_this}return inherits_default()(SsoLoginApp,_React$Component),createClass_default()(SsoLoginApp,[{key:"render",value:function render(){return this.app.component}}]),SsoLoginApp}(react_default.a.Component);main_SsoLoginApp.displayName="SsoLoginApp",main_SsoLoginApp.__docgenInfo={description:"",methods:[],displayName:"SsoLoginApp",props:{ssoLoginEndpoint:{type:{name:"string"},required:!0,description:""},locale:{type:{name:"string"},required:!1,description:""},autoLogin:{type:{name:"bool"},required:!1,description:""}}};var src_main=Object(root.hot)(main_SsoLoginApp);"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/sso-login/src/main.js"]={name:"SsoLoginApp",docgenInfo:main_SsoLoginApp.__docgenInfo,path:"packages/sso-login/src/main.js"});var js_cookie=__webpack_require__(2454),js_cookie_default=__webpack_require__.n(js_cookie),tocco_circle=__webpack_require__(2428),tocco_circle_default=__webpack_require__.n(tocco_circle),tocco_white=__webpack_require__(2455),tocco_white_default=__webpack_require__.n(tocco_white);function _templateObject8(){var data=taggedTemplateLiteral_default()(["\n  && {\n    color: ",";\n  }\n"]);return _templateObject8=function(){return data},data}function _templateObject7(){var data=taggedTemplateLiteral_default()(["\n  && {\n    text-align: center;\n    font-weight: ",";\n    width: 100%;\n    color: ",";\n  }\n"]);return _templateObject7=function(){return data},data}function _templateObject6(){var data=taggedTemplateLiteral_default()(["\n  display: none;\n  max-width: 400px;\n  width: 95%;\n  height: auto;\n  margin: 45px auto 0;\n\n  @media (max-width: 1024px) {\n    display: block;\n  }\n\n  @media (max-width: 425px) {\n    max-width: 280px;\n    margin-top: 40px;\n  }\n"]);return _templateObject6=function(){return data},data}function _templateObject5(){var data=taggedTemplateLiteral_default()(["\n  transform: rotate(270deg);\n  position: relative;\n  top: 12.5vw;\n  left: -8%;\n  width: 25vw;\n\n  @media (max-width: 1024px) {\n    display: none;\n  }\n"]);return _templateObject5=function(){return data},data}function _templateObject4(){var data=taggedTemplateLiteral_default()(["\n  max-width: 410px;\n  margin: 6% 5% 0 28%;\n\n  && {\n    .tocco-login * {\n      font-size: ",";\n    }\n\n    @media (max-width: 1024px) {\n      margin: 14rem auto 0;\n      padding-left: 2rem;\n      padding-right: 2rem;\n    }\n\n    @media (max-width: 425px) {\n      margin-top: 8rem;\n    }\n  }\n"]);return _templateObject4=function(){return data},data}function _templateObject3(){var data=taggedTemplateLiteral_default()(["\n  && {\n    text-align: center;\n    font-size: ",";\n    display: inline-block;\n    width: 100%;\n    margin: 1rem 0 1.8rem;\n  }\n"]);return _templateObject3=function(){return data},data}function _templateObject2(){var data=taggedTemplateLiteral_default()(["\n  && {\n    font-size: ",";\n    margin-bottom: 2.5rem;\n\n    @media (max-width: 1024px) {\n      margin-bottom: 1.5rem;\n    }\n  }\n"]);return _templateObject2=function(){return data},data}function Login_templateObject(){var data=taggedTemplateLiteral_default()(["\n  height: 100vh;\n  width: 100vw;\n  position: absolute;\n  background-image: url(",");\n  background-repeat: no-repeat;\n  background-size: 61vw;\n  background-position-y: -25vw;\n  background-position-x: -41vw;\n\n  .tocco-sso-login {\n    display: flex;\n    justify-content: space-between;\n    margin-bottom: 1.8rem;\n  }\n\n  @media (max-width: 1024px) {\n    background-size: 2000px;\n    background-position: 50% -1850px;\n  }\n\n  @media (max-width: 425px) {\n    background-position: 50% -1890px;\n  }\n"]);return Login_templateObject=function(){return data},data}var StyledLogin=styled_components_browser_esm.default.div(Login_templateObject(),tocco_circle_default.a),StyledHeadingLogin=Object(styled_components_browser_esm.default)(src.s)(_templateObject2(),src.C.font(11)),StyledSpanLogin=Object(styled_components_browser_esm.default)(src.w)(_templateObject3(),src.C.font(1.3)),LoginWrapper=styled_components_browser_esm.default.div(_templateObject4(),src.C.font(1.3)),SloganImg=styled_components_browser_esm.default.img(_templateObject5()),StyledImg=styled_components_browser_esm.default.img(_templateObject6()),StyledSsoMsg=Object(styled_components_browser_esm.default)(src.w)(_templateObject7(),src.E.fontWeight("bold"),src.E.color("signal.info.text")),StyledSsoError=Object(styled_components_browser_esm.default)(StyledSsoMsg)(_templateObject8(),src.E.color("signal.danger.text")),_ref5=react_default.a.createElement(StyledSsoMsg,{breakWords:!0},react_default.a.createElement(index_es.FormattedMessage,{id:"client.sso-login.registration"})),_ref6=react_default.a.createElement(StyledSsoError,{breakWords:!0},react_default.a.createElement(index_es.FormattedMessage,{id:"client.sso-login.error"})),Login_ref7=react_default.a.createElement(StyledSpanLogin,null,react_default.a.createElement(index_es.FormattedMessage,{id:"client.admin.loginChoice"})),_ref8=react_default.a.createElement(StyledImg,{src:tocco_white_default.a}),_ref9=react_default.a.createElement(SloganImg,{src:tocco_white_default.a}),_ref10=react_default.a.createElement(StyledHeadingLogin,null,react_default.a.createElement(index_es.FormattedMessage,{id:"client.admin.welcomeTitle"})),Login=function(_ref){var ssoAvailable=_ref.ssoAvailable,loginSuccessful=_ref.loginSuccessful,checkSsoAvailable=_ref.checkSsoAvailable,_useState=Object(react.useState)(!1),_useState2=slicedToArray_default()(_useState,2),showError=_useState2[0],setShowError=_useState2[1],_useState3=Object(react.useState)(!1),_useState4=slicedToArray_default()(_useState3,2),showRegistrationText=_useState4[0],setShowRegistrationText=_useState4[1],autoLogin=js_cookie_default.a.get("sso-autologin");Object(react.useEffect)((function(){checkSsoAvailable()}),[]);var _ref4=react_default.a.createElement(src_main,{ssoLoginEndpoint:"/sso",loginCompleted:function ssoLoginCompleted(_ref3){var successful=_ref3.successful,provider=_ref3.provider,registration=_ref3.registration;successful?(js_cookie_default.a.set("sso-autologin",provider,{expires:365}),loginSuccessful(30)):!successful&&registration?setShowRegistrationText(!0):setShowError(!0)},autoLogin:autoLogin});return react_default.a.createElement(StyledLogin,null,_ref8,_ref9,react_default.a.createElement(LoginWrapper,null,_ref10,ssoAvailable&&react_default.a.createElement((function SsoLoginPart(){return react_default.a.createElement("div",null,_ref4,showRegistrationText&&_ref5,showError&&_ref6,Login_ref7)}),null),react_default.a.createElement(main.a,{loginSuccess:function loginSuccess(_ref2){var timeout=_ref2.timeout;loginSuccessful(timeout)},showTitle:!1})))};Login.displayName="Login",Login.__docgenInfo={description:"",methods:[],displayName:"Login",props:{ssoAvailable:{type:{name:"bool"},required:!1,description:""},loginSuccessful:{type:{name:"func"},required:!0,description:""},checkSsoAvailable:{type:{name:"func"},required:!0,description:""}}};var Login_Login=Login;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/components/Login/Login.js"]={name:"Login",docgenInfo:Login.__docgenInfo,path:"packages/admin/src/components/Login/Login.js"});var LoginContainer_mapActionCreators={loginSuccessful:actions.s,checkSsoAvailable:actions.n},LoginContainer=Object(es.connect)((function(state){return{ssoAvailable:state.session.ssoAvailable}}),LoginContainer_mapActionCreators)(Object(index_es.injectIntl)(Login_Login)),favicon=__webpack_require__(2456),favicon_default=__webpack_require__.n(favicon),viewPersistor=__webpack_require__(370),navigation_actions=__webpack_require__(147),react_router=(__webpack_require__(71),__webpack_require__(187),__webpack_require__(148),__webpack_require__(371)),history_es=__webpack_require__(2471),SearchBox=(__webpack_require__(1083),__webpack_require__(78),__webpack_require__(300)),helpers_extends=(__webpack_require__(106),__webpack_require__(114),__webpack_require__(41)),extends_default=__webpack_require__.n(helpers_extends);function MenuTree_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function MenuTree_objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null!=arguments[i]?arguments[i]:{},i%2?MenuTree_ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):MenuTree_ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}function MenuTree_templateObject2(){var data=taggedTemplateLiteral_default()(["\n  > div {\n    margin-bottom: ",";\n  }\n"]);return MenuTree_templateObject2=function(){return data},data}function MenuTree_templateObject(){var data=taggedTemplateLiteral_default()(["\n  ","\n\n  && {\n    padding-left: ","px;\n    line-height: ",";\n  }\n"]);return MenuTree_templateObject=function(){return data},data}var StyledMenuEntry=styled_components_browser_esm.default.div(MenuTree_templateObject(),Object(src.z)(),(function(props){return 7*props.level}),src.E.lineHeight("light")),StyledMenuEntryWrapper=styled_components_browser_esm.default.div(MenuTree_templateObject2(),src.C.space(0)),MenuItem=function(_ref){var item=_ref.item,typeMapping=_ref.typeMapping;if(!item)return null;var mappedType=typeMapping[item.menuType];if(!mappedType)return null;var Component=mappedType.component;return react_default.a.createElement(StyledMenuEntry,item,react_default.a.createElement(Component,extends_default()({item:item},mappedType.props)),item.children&&item.children.map((function(child){return react_default.a.createElement(MenuItem,{key:child.name,item:child,typeMapping:typeMapping})})))};MenuItem.displayName="MenuItem";var prepareTree=function(item,searchFilter,typeMapping){var level=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,mappedType=typeMapping[item.menuType];if(!mappedType)return null;var matchingAttribute,children=(item.children||[]).map((function(child){return prepareTree(child,searchFilter,typeMapping,level+1)})).filter((function(c){return null!==c}));return 0===children.length&&searchFilter&&!(matchingAttribute=mappedType.filterAttributes.find((function(filterAttribute){return item[filterAttribute].toLowerCase().includes(searchFilter.toLowerCase())})))?null:MenuTree_objectSpread({},item,{level:level,children:children,matchingAttribute:matchingAttribute})},MenuTree=function(_ref2){var items=_ref2.items,searchFilter=_ref2.searchFilter,typeMapping=_ref2.typeMapping;return items&&0!==items.length?react_default.a.createElement(StyledMenuEntryWrapper,null,items.map((function(item){return react_default.a.createElement(MenuItem,{key:item.name,item:prepareTree(item,searchFilter,typeMapping),typeMapping:typeMapping})}))):null};MenuTree.displayName="MenuTree",MenuTree.__docgenInfo={description:"",methods:[],displayName:"MenuTree",props:{items:{type:{name:"array"},required:!1,description:""},searchFilter:{type:{name:"string"},required:!1,description:""},typeMapping:{type:{name:"objectOf",value:{name:"shape",value:{component:{name:"func",required:!1},filterAttribute:{name:"arrayOf",value:{name:"string"},required:!1}}}},required:!1,description:""}}};var MenuTree_MenuTree=react_default.a.memo(MenuTree);"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/components/MenuTree/MenuTree.js"]={name:"MenuTree",docgenInfo:MenuTree.__docgenInfo,path:"packages/admin/src/components/MenuTree/MenuTree.js"});var components_MenuTree=MenuTree_MenuTree,react_router_dom=__webpack_require__(2418);function StyledComponents_templateObject7(){var data=taggedTemplateLiteral_default()(["\n  height: 50px;\n"]);return StyledComponents_templateObject7=function(){return data},data}function StyledComponents_templateObject6(){var data=taggedTemplateLiteral_default()(["\n  && {\n    flex: 1;\n    justify-content: center;\n    border-radius: 0;\n    margin: 5px;\n    border-top: 5px solid;\n    color: ",";\n    font-weight: ",";\n    border-color: ",";\n\n    &:hover {\n      border-color: ",";\n      background-color: transparent;\n      color: ",";\n    }\n\n    &:focus {\n      background-color: transparent;\n    }\n  }\n"]);return StyledComponents_templateObject6=function(){return data},data}function StyledComponents_templateObject5(){var data=taggedTemplateLiteral_default()(["\n  display: flex;\n  justify-content: space-evenly;\n  align-items: center;\n  margin-bottom: 10px;\n  border-bottom: 3px solid ",";\n\n  &:focus {\n    background-color: transparent;\n  }\n\n  span {\n    padding-top: .4rem;\n    padding-bottom: .4rem;\n  }\n"]);return StyledComponents_templateObject5=function(){return data},data}function StyledComponents_templateObject4(){var data=taggedTemplateLiteral_default()(["\n  color: ",";\n  text-decoration: none;\n\n  &:hover {\n    color: ",";\n  }\n\n  &:focus {\n    outline: none;\n    font-weight: ",";\n    color: ",";\n  }\n\n  &.active {\n    text-decoration: underline;\n  }\n"]);return StyledComponents_templateObject4=function(){return data},data}function StyledComponents_templateObject3(){var data=taggedTemplateLiteral_default()(["\n  color: ",";\n  font-weight: ",";\n"]);return StyledComponents_templateObject3=function(){return data},data}function StyledComponents_templateObject2(){var data=taggedTemplateLiteral_default()(["\n  height: 101%;\n  overflow: auto;\n  padding-left: 2rem;\n  ","\n"]);return StyledComponents_templateObject2=function(){return data},data}function StyledComponents_templateObject(){var data=taggedTemplateLiteral_default()(["\n  height: 100%;\n\n  .StyledSearchBox {\n    margin: 1.5rem 3rem 1.8rem 1.8rem;\n  }\n"]);return StyledComponents_templateObject=function(){return data},data}var StyledNav=styled_components_browser_esm.default.nav(StyledComponents_templateObject()),StyledMenuWrapper=styled_components_browser_esm.default.div(StyledComponents_templateObject2(),src.v),StyledComponents_StyledMenuEntry=styled_components_browser_esm.default.span(StyledComponents_templateObject3(),src.E.color("text"),src.E.fontWeight("bold")),StyledMenuLink=Object(styled_components_browser_esm.default)(react_router_dom.a)(StyledComponents_templateObject4(),src.E.color("text"),src.E.color("secondaryLight"),src.E.fontWeight("bold"),src.E.color("secondaryLight")),StyledTabsContainer=styled_components_browser_esm.default.div(StyledComponents_templateObject5(),src.E.color("backgroundBody")),StyledNavButton=Object(styled_components_browser_esm.default)(src.b)(StyledComponents_templateObject6(),(function(props){return props.active?src.E.color("secondary"):src.E.color("secondaryLight")}),src.E.fontWeight("bold"),(function(props){return props.active?src.E.color("secondary"):"transparent"}),(function(props){return props.active?src.E.color("secondary"):src.E.color("secondaryLight")}),(function(props){return props.active?src.E.color("secondary"):src.E.color("secondaryLight")})),StyledSearchBoxWrapper=styled_components_browser_esm.default.div(StyledComponents_templateObject7()),MenuMenuEntry=function(_ref){var item=_ref.item;return react_default.a.createElement(StyledComponents_StyledMenuEntry,null,item.label)};MenuMenuEntry.displayName="MenuMenuEntry";var EntityExplorerMenuEntry=function(_ref2){var onClick=_ref2.onClick,item=_ref2.item,entityNameDisplay="entity"===item.matchingAttribute?react_default.a.createElement(react_default.a.Fragment,null," (",item.entity,")"):"";return react_default.a.createElement(StyledMenuLink,{onClick:onClick,to:"/e/".concat(item.entity)},item.label,entityNameDisplay)};EntityExplorerMenuEntry.displayName="EntityExplorerMenuEntry";var ActionMenuEntry=function(_ref3){var onClick=_ref3.onClick,item=_ref3.item;return react_default.a.createElement(StyledMenuLink,{onClick:onClick,to:"/a/".concat(item.name)},item.label)};ActionMenuEntry.displayName="ActionMenuEntry";var tabs_MODULES="modules",tabs_SETTINGS="settings",Navigation=function(_ref4){var modulesMenuTree=_ref4.modulesMenuTree,settingsMenuTree=_ref4.settingsMenuTree,menuOpen=_ref4.menuOpen,onClick=_ref4.onClick,activeMenuTab=_ref4.activeMenuTab,setActiveMenuTab=_ref4.setActiveMenuTab,intl=_ref4.intl,inputEl=Object(react.useRef)(null),navigationEl=Object(react.useRef)(null),_useState=Object(react.useState)(""),_useState2=slicedToArray_default()(_useState,2),filter=_useState2[0],setFilter=_useState2[1],map=Object(react.useMemo)((function(){return{menu:{component:MenuMenuEntry,filterAttributes:[]},"entity-explorer":{component:EntityExplorerMenuEntry,props:{onClick:onClick},filterAttributes:["label","entity"]},action:{component:ActionMenuEntry,props:{onClick:onClick},filterAttributes:["label"]}}}),[]);Object(react.useEffect)((function(){menuOpen&&(activeMenuTab||setActiveMenuTab(tabs_MODULES),inputEl.current.select(),inputEl.current.focus())}),[menuOpen]);var msg=function(id){return intl.formatMessage({id:id})};return react_default.a.createElement(StyledNav,{ref:navigationEl,onKeyDown:function onKeyDown(e){var key,focusableElements,currentIndex;"ArrowDown"!==e.key&&"ArrowUp"!==e.key||(e.preventDefault(),key=e.key,focusableElements=navigationEl.current.querySelectorAll("a, input"),-1!==(currentIndex=toConsumableArray_default()(focusableElements).findIndex((function(el){return document.activeElement.isEqualNode(el)})))&&focusableElements[(currentIndex+("ArrowDown"===key?1:focusableElements.length-1))%focusableElements.length].focus())}},react_default.a.createElement(StyledTabsContainer,null,react_default.a.createElement(StyledNavButton,{active:activeMenuTab===tabs_MODULES,onClick:function(){return setActiveMenuTab(tabs_MODULES)},label:msg("client.admin.navigation.modules")}),react_default.a.createElement(StyledNavButton,{active:activeMenuTab===tabs_SETTINGS,onClick:function(){return setActiveMenuTab(tabs_SETTINGS)},label:msg("client.admin.navigation.settings")})),react_default.a.createElement(StyledSearchBoxWrapper,null,react_default.a.createElement(SearchBox.a,{minInputLength:2,onSearch:setFilter,ref:inputEl,placeholder:msg("client.admin.navigation.searchBoxPlaceHolder")})),activeMenuTab===tabs_MODULES&&react_default.a.createElement(StyledMenuWrapper,null,react_default.a.createElement(components_MenuTree,{items:modulesMenuTree,searchFilter:filter,typeMapping:map})),activeMenuTab===tabs_SETTINGS&&react_default.a.createElement(StyledMenuWrapper,null,react_default.a.createElement(components_MenuTree,{items:settingsMenuTree,searchFilter:filter,typeMapping:map})))};Navigation.displayName="Navigation",Navigation.__docgenInfo={description:"",methods:[],displayName:"Navigation",props:{intl:{type:{name:"custom",raw:"intlShape.isRequired"},required:!1,description:""},activeMenuTab:{type:{name:"string"},required:!0,description:""},settingsMenuTree:{type:{name:"array"},required:!1,description:""},modulesMenuTree:{type:{name:"array"},required:!1,description:""},onClick:{type:{name:"func"},required:!1,description:""},setActiveMenuTab:{type:{name:"func"},required:!1,description:""},menuOpen:{type:{name:"bool"},required:!1,description:""}}};var Navigation_Navigation=Navigation;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/components/Navigation/Navigation.js"]={name:"Navigation",docgenInfo:Navigation.__docgenInfo,path:"packages/admin/src/components/Navigation/Navigation.js"});var NavigationContainer_mapActionCreators={setActiveMenuTab:navigation_actions.h},components_Navigation=Object(es.connect)((function(state){return{settingsMenuTree:state.navigation.settingsMenuTree,modulesMenuTree:state.navigation.modulesMenuTree,menuOpen:state.navigation.menuOpen,activeMenuTab:state.navigation.activeMenuTab}}),NavigationContainer_mapActionCreators)(Object(index_es.injectIntl)(Navigation_Navigation)),tocco_red=__webpack_require__(2457),tocco_red_default=__webpack_require__.n(tocco_red);function Dashboard_templateObject3(){var data=taggedTemplateLiteral_default()(["\n  display: flex;\n  height: 75%;\n  justify-content: flex-end;\n  align-items: flex-end;\n  margin-right: -180px;\n\n  "," {\n    font-size: 10rem;\n    letter-spacing: .5rem;\n    color: ",";\n  }\n\n  "," {\n    position: relative;\n    top: 2rem;\n\n    "," {\n      font-size: 3rem;\n      color: ",";\n    }\n    text-align: right;\n  }\n"]);return Dashboard_templateObject3=function(){return data},data}function Dashboard_templateObject2(){var data=taggedTemplateLiteral_default()(["\n  width: 600px;\n  height: 50px;\n  position: relative;\n  left: -320px;\n"]);return Dashboard_templateObject2=function(){return data},data}function Dashboard_templateObject(){var data=taggedTemplateLiteral_default()(["\n  width: 100%;\n  height: 100%;\n  background-color: ",";\n"]);return Dashboard_templateObject=function(){return data},data}var StyledDashBoardWrapper=styled_components_browser_esm.default.div(Dashboard_templateObject(),src.E.color("backgroundBody")),InnerWrapper=styled_components_browser_esm.default.div(Dashboard_templateObject2()),StyledDashBoard=styled_components_browser_esm.default.div(Dashboard_templateObject3(),src.s,src.E.color("primary"),InnerWrapper,src.t,src.E.color("primary")),Dashboard_ref=react_default.a.createElement(src.x.H1,null,react_default.a.createElement(index_es.FormattedMessage,{id:"client.admin.welcomeTitle"})),Dashboard_ref2=react_default.a.createElement("img",{src:tocco_red_default.a,alt:"tocco-logo"}),Dashboard=function(){var packageJson=__webpack_require__(2458);return react_default.a.createElement(StyledDashBoardWrapper,null,react_default.a.createElement(StyledDashBoard,null,Dashboard_ref,react_default.a.createElement(InnerWrapper,null,Dashboard_ref2,react_default.a.createElement(src.x.H3,null,"beta v",packageJson.version))))};Dashboard.displayName="Dashboard",Dashboard.__docgenInfo={description:"",methods:[],displayName:"Dashboard",props:{match:{type:{name:"object"},required:!1,description:""}}};var Dashboard_Dashboard=react_default.a.memo(Dashboard,(function(){return!0}));"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/routes/dashboard/components/Dashboard/Dashboard.js"]={name:"Dashboard",docgenInfo:Dashboard.__docgenInfo,path:"packages/admin/src/routes/dashboard/components/Dashboard/Dashboard.js"});var components_Dashboard=Dashboard_Dashboard,route=(__webpack_require__(188),__webpack_require__(35),__webpack_require__(90),__webpack_require__(303)),js=__webpack_require__(246),omit=__webpack_require__(221),omit_default=__webpack_require__.n(omit),omitBy=__webpack_require__(2459),omitBy_default=__webpack_require__.n(omitBy),ignoredAttributes=["location.key","location.search"];var routes_entities=Object(react.memo)((function(props){return react_default.a.createElement(es.ReactReduxContext.Consumer,null,(function(_ref){var store=_ref.store,Component=route.a.loadRoute(store,{},(function(){return Promise.all([__webpack_require__.e(0),__webpack_require__.e(9)]).then(__webpack_require__.bind(null,2479))}));return react_default.a.createElement(Component,props)}))}),(function areEqual(prevProps,nextProps){var diff=js.a.difference(prevProps,nextProps),clean=omitBy_default()(omit_default()(diff,ignoredAttributes),(function(v){return 0===Object.keys(v).length}));return 0===Object.entries(clean).length})),Settings_ref=react_default.a.createElement(src.x.H2,null,"Settings"),Settings=function(){return Settings_ref};Settings.displayName="Settings",Settings.__docgenInfo={description:"",methods:[],displayName:"Settings"};var Settings_Settings=Settings;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/routes/settings/components/Settings/Settings.js"]={name:"Settings",docgenInfo:Settings.__docgenInfo,path:"packages/admin/src/routes/settings/components/Settings/Settings.js"});var components_Settings=Settings_Settings,ResourceSchedulerComponent=Object(react.lazy)((function(){return __webpack_require__.e(10).then(__webpack_require__.bind(null,2477))})),LazyResourceScheduler_ref=react_default.a.createElement(react_default.a.Fragment,null),renderLoader=function(){return LazyResourceScheduler_ref};renderLoader.displayName="renderLoader";var ResourceScheduler=function(props){return react_default.a.createElement(react.Suspense,{fallback:renderLoader()},react_default.a.createElement(ResourceSchedulerComponent,props))},Actions_ref2=react_default.a.createElement(src.x.H1,null,"404"),Actions=function(_ref){var match=_ref.match;return react_default.a.createElement(react_router.e,null,react_default.a.createElement(react_router.c,{path:"".concat(match.path,"/resourcescheduler"),component:ResourceScheduler}),react_default.a.createElement(react_router.c,{component:function component(){return Actions_ref2}}))};Actions.displayName="Actions",Actions.__docgenInfo={description:"",methods:[],displayName:"Actions",props:{match:{type:{name:"object"},required:!0,description:""}}};var Actions_Actions=Actions;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/routes/actions/components/Actions/Actions.js"]={name:"Actions",docgenInfo:Actions.__docgenInfo,path:"packages/admin/src/routes/actions/components/Actions/Actions.js"});var components_Actions=Actions_Actions;function Header_StyledComponents_templateObject2(){var data=taggedTemplateLiteral_default()(["\n  flex: 1;\n  display: flex;\n  justify-content: flex-end;\n  padding: 7px;\n"]);return Header_StyledComponents_templateObject2=function(){return data},data}function Header_StyledComponents_templateObject(){var data=taggedTemplateLiteral_default()(["\n  grid-area: header;\n  display: flex;\n  height: 40px;\n  background: #fff url(",") no-repeat fixed -300px -900px;\n  padding-right: 10px;\n  padding-left: 40px;\n"]);return Header_StyledComponents_templateObject=function(){return data},data}var StyledHeader=styled_components_browser_esm.default.div(Header_StyledComponents_templateObject(),tocco_circle_default.a),StyledConfig=styled_components_browser_esm.default.div(Header_StyledComponents_templateObject2()),Header_ref2=react_default.a.createElement(index_es.FormattedMessage,{id:"client.admin.menu.logout"}),Header=function(_ref){var username=_ref.username,currentBusinessUnit=_ref.currentBusinessUnit,businessUnits=_ref.businessUnits,loadBusinessUnits=_ref.loadBusinessUnits,changeBusinessUnit=_ref.changeBusinessUnit,doLogout=_ref.doLogout;return react_default.a.createElement(StyledHeader,null,react_default.a.createElement(StyledConfig,null,react_default.a.createElement(src.l.ItemFlyout,{label:currentBusinessUnit.label,onToggle:function handleBusinessUnitOpen(){0===businessUnits.length&&loadBusinessUnits()}},react_default.a.createElement(src.l.Stack,null,businessUnits.map((function(bU){return react_default.a.createElement(src.l.Item,{key:"buMenu-".concat(bU.id)},react_default.a.createElement(src.b,{disabled:bU.id===currentBusinessUnit.id,label:bU.label,onClick:function onClick(){changeBusinessUnit(bU.id)}}))})))),react_default.a.createElement(src.l.ItemFlyout,{label:username},react_default.a.createElement(src.l.Stack,null,react_default.a.createElement(src.l.Item,null,react_default.a.createElement(src.b,{onClick:doLogout},Header_ref2))))))};Header.displayName="Header",Header.__docgenInfo={description:"",methods:[],displayName:"Header",props:{username:{type:{name:"string"},required:!1,description:""},currentBusinessUnit:{type:{name:"custom",raw:"bUPropType"},required:!1,description:""},businessUnits:{type:{name:"arrayOf",value:{name:"custom",raw:"bUPropType"}},required:!1,description:""},doLogout:{type:{name:"func"},required:!0,description:""},changeBusinessUnit:{type:{name:"func"},required:!0,description:""},loadBusinessUnits:{type:{name:"func"},required:!0,description:""}}};var Header_Header=Header;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/components/Header/Header.js"]={name:"Header",docgenInfo:Header.__docgenInfo,path:"packages/admin/src/components/Header/Header.js"});var HeaderContainer_mapActionCreators={doLogout:actions.o,loadBusinessUnits:actions.q,changeBusinessUnit:actions.m},HeaderContainer=Object(es.connect)((function(state){return{username:state.session.username,currentBusinessUnit:state.session.currentBusinessUnit,businessUnits:state.session.businessUnits}}),HeaderContainer_mapActionCreators)(Object(index_es.injectIntl)(Header_Header)),slide=__webpack_require__(2461),slide_default=__webpack_require__.n(slide);function Admin_StyledComponents_templateObject3(){var data=taggedTemplateLiteral_default()(["\n  grid-area: menu;\n"]);return Admin_StyledComponents_templateObject3=function(){return data},data}function Admin_StyledComponents_templateObject2(){var data=taggedTemplateLiteral_default()(["\n  grid-area: content;\n  background-color: ",";\n  overflow: hidden;\n"]);return Admin_StyledComponents_templateObject2=function(){return data},data}function Admin_StyledComponents_templateObject(){var data=taggedTemplateLiteral_default()(["\n  display: grid;\n  grid-template:\n    'header header' auto\n    'menu content' 1fr / auto 1fr;\n  background-color: #fff;\n  height: 100vh;\n\n  .bm-burger-button button:focus {\n    outline: 0;\n  }\n"]);return Admin_StyledComponents_templateObject=function(){return data},data}var StyledWrapper=styled_components_browser_esm.default.div(Admin_StyledComponents_templateObject()),StyledContent=styled_components_browser_esm.default.div(Admin_StyledComponents_templateObject2(),src.E.color("backgroundBody")),StyledMenu=Object(styled_components_browser_esm.default)(slide_default.a)(Admin_StyledComponents_templateObject3()),burgerMenuStyles={bmBurgerButton:{position:"fixed",outline:"0",width:"24px",height:"24px",left:"13px",top:"9px",color:"#fff"},bmBurgerBars:{background:"#fff"},bmBurgerBarsHover:{background:"#a90000"},bmMenuWrap:{position:"fixed",height:"100%"},bmMenu:{background:"#fff",padding:"0 0 2em 0",fontSize:"1.15em",overflow:"hidden"},bmMorphShape:{fill:"#373a47"},bmItemList:{color:"#b8b7ad",height:"calc(100vh - 160px)"},bmItem:{display:"inline-block"},bmOverlay:{background:"rgba(0, 0, 0, 0.3)"}};function Admin_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}var Admin_ref2=react_default.a.createElement(index_es.FormattedMessage,{id:"client.common.ok"}),Admin_ref3=react_default.a.createElement(index_es.FormattedMessage,{id:"client.common.cancel"}),Admin_ref4=react_default.a.createElement(HeaderContainer,null),Admin_ref5=react_default.a.createElement(src.g,{icon:"times"}),Admin_ref6=react_default.a.createElement(src.g,{icon:"bars"}),Admin_ref8=react_default.a.createElement(react_router.c,{exact:!0,path:"/dashboard",component:components_Dashboard}),Admin_ref9=react_default.a.createElement(react_router.c,{path:"/e",component:routes_entities}),Admin_ref10=react_default.a.createElement(react_router.c,{path:"/s",component:components_Settings}),_ref11=react_default.a.createElement(react_router.c,{path:"/a",component:components_Actions}),Admin=function(_ref){var initializeNavigation=_ref.initializeNavigation,setMenuOpen=_ref.setMenuOpen,menuOpen=_ref.menuOpen,baseRoute=_ref.baseRoute,confirm=_ref.confirm,loadPrincipal=_ref.loadPrincipal,clearPersistedViews=_ref.clearPersistedViews;Object(react.useEffect)((function(){loadPrincipal()}),[]);var _useState=Object(react.useState)(null),_useState2=slicedToArray_default()(_useState,2),history=_useState2[0],setHistory=_useState2[1];Object(react.useEffect)((function(){initializeHistory(),initializeNavigation()}),[]);var initializeHistory=function(){var browserHistory=Object(history_es.a)(function Admin_objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null!=arguments[i]?arguments[i]:{},i%2?Admin_ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):Admin_ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}({},baseRoute&&{basename:baseRoute},{getUserConfirmation:function getUserConfirmation(message,callback){confirm("",message,Admin_ref2,Admin_ref3,(function(){return callback(!0)}),(function(){return callback(!1)}))}}));setHistory(browserHistory)};return react_default.a.createElement(src.k,{required:[null!==history]},react_default.a.createElement(react_router.d,{history:history||{}},react_default.a.createElement(StyledWrapper,{id:"outer-container"},Admin_ref4,react_default.a.createElement(StyledMenu,{isOpen:menuOpen,onStateChange:function isMenuOpen(state){state.isOpen!==menuOpen&&setMenuOpen(state.isOpen)},customCrossIcon:!1,customBurgerIcon:menuOpen?Admin_ref5:Admin_ref6,styles:burgerMenuStyles,pageWrapId:"page-wrap",outerContainerId:"outer-container"},react_default.a.createElement(components_Navigation,{onClick:function onClick(){setMenuOpen(!1),clearPersistedViews()}})),react_default.a.createElement(StyledContent,{id:"page-wrap"},react_default.a.createElement(react_router.e,null,react_default.a.createElement(react_router.c,{exact:!0,path:"/",render:function render(_ref7){var match=_ref7.match;return react_default.a.createElement(react_router.b,{to:"".concat(match.url.replace(/\/$/,""),"/dashboard")})}}),Admin_ref8,Admin_ref9,Admin_ref10,_ref11,react_default.a.createElement(react_router.c,{render:function render(_ref12){var match=_ref12.match;return react_default.a.createElement(react_router.b,{to:"".concat(match.url.replace(/\/$/,""),"/dashboard")})}}))))))};Admin.displayName="Admin",Admin.__docgenInfo={description:"",methods:[],displayName:"Admin",props:{baseRoute:{type:{name:"string"},required:!1,description:""},loggedIn:{type:{name:"bool"},required:!1,description:""},menuOpen:{type:{name:"bool"},required:!1,description:""},loadPrincipal:{type:{name:"func"},required:!0,description:""},clearPersistedViews:{type:{name:"func"},required:!0,description:""},setMenuOpen:{type:{name:"func"},required:!0,description:""},confirm:{type:{name:"func"},required:!0,description:""},initializeNavigation:{type:{name:"func"},required:!0,description:""}}};var Admin_Admin=Admin;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/components/Admin/Admin.js"]={name:"Admin",docgenInfo:Admin.__docgenInfo,path:"packages/admin/src/components/Admin/Admin.js"});var AdminContainer_mapActionCreators={loadPrincipal:actions.r,confirm:notifier.a.confirm,initializeNavigation:navigation_actions.g,setMenuOpen:navigation_actions.i,clearPersistedViews:viewPersistor.a.clearPersistedViews},AdminContainer=Object(es.connect)((function(state){return{baseRoute:state.input.baseRoute,menuOpen:state.navigation.menuOpen}}),AdminContainer_mapActionCreators)(Object(index_es.injectIntl)(Admin_Admin)),LoginGuard_ref2=react_default.a.createElement(Helmet.Helmet,{defer:!1},react_default.a.createElement("title",null,"Tocco"),react_default.a.createElement("link",{rel:"icon",type:"image/png",href:favicon_default.a,sizes:"16x16"})),LoginGuard_ref3=react_default.a.createElement(notifier.a.Notifier,null),LoginGuard_ref4=react_default.a.createElement(LoginContainer,null),LoginGuard_ref5=react_default.a.createElement(AdminContainer,null),LoginGuard=function(_ref){var doSessionCheck=_ref.doSessionCheck,loggedIn=_ref.loggedIn;return Object(react.useEffect)((function(){doSessionCheck()}),[]),react_default.a.createElement("div",null,LoginGuard_ref2,react_default.a.createElement(src.k,{required:[void 0!==loggedIn],loadingText:"Logging in..."},react_default.a.createElement("div",null,LoginGuard_ref3,loggedIn?LoginGuard_ref5:LoginGuard_ref4)))};LoginGuard.displayName="LoginGuard",LoginGuard.__docgenInfo={description:"",methods:[],displayName:"LoginGuard",props:{loggedIn:{type:{name:"bool"},required:!1,description:""},doSessionCheck:{type:{name:"func"},required:!0,description:""}}};var LoginGuard_LoginGuard=LoginGuard;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/components/LoginGuard/LoginGuard.js"]={name:"LoginGuard",docgenInfo:LoginGuard.__docgenInfo,path:"packages/admin/src/components/LoginGuard/LoginGuard.js"});var LoginGuardContainer_mapActionCreators={doSessionCheck:actions.p,confirm:notifier.a.confirm},LoginGuardContainer=Object(root.hot)(Object(es.connect)((function(state){return{loggedIn:state.session.loggedIn}}),LoginGuardContainer_mapActionCreators)(Object(index_es.injectIntl)(LoginGuard_LoginGuard)));__webpack_require__.d(__webpack_exports__,"default",(function(){return LoginGuardContainer}))}}]);
//# sourceMappingURL=8.8ca2bf2b663b3753a4e2.bundle.js.map